<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="小鱼周凌宇のCODE_HOME" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="技术宅 iOS开发 JAVA开发 萌妹子">
<meta property="og:type" content="website">
<meta property="og:title" content="小鱼周凌宇のCODE_HOME">
<meta property="og:url" content="http://zhoulingyu.com/page/12/index.html">
<meta property="og:site_name" content="小鱼周凌宇のCODE_HOME">
<meta property="og:description" content="技术宅 iOS开发 JAVA开发 萌妹子">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小鱼周凌宇のCODE_HOME">
<meta name="twitter:description" content="技术宅 iOS开发 JAVA开发 萌妹子">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://zhoulingyu.com/page/12/"/>

  <title> 小鱼周凌宇のCODE_HOME </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">小鱼周凌宇のCODE_HOME</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">技术宅 iOS开发 JAVA开发 萌妹子</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/about.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/19/偏执却管用的 10 条 Java 编程技巧/" itemprop="url">
                  偏执却管用的 10 条 Java 编程技巧
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-19T19:18:00+08:00" content="2015-10-19">
              2015-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/10/19/偏执却管用的 10 条 Java 编程技巧/" class="leancloud_visitors" data-flag-title="偏执却管用的 10 条 Java 编程技巧">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原文链接： javacodegeeks <br><br>翻译： ImportNew.com - LynnShaw <br><br>译文链接： <a href="http://www.importnew.com/16805.html" target="_blank" rel="external">http://www.importnew.com/16805.html</a></p>
<p>经过一段时间的编码（咦，我已经经历了将近20年的编程生涯，快乐的日子总是过得很快），我们开始感谢那些好习惯。因为，你知道…</p>
<p><code>“任何可能出错的事情，最后都会出错。”</code></p>
<p>这就是人们为什么喜欢进行“防错性程序设计”的原因。偏执的习惯有时很有意义，有时则不够清晰也不够聪明，也许当你想到这样写的人的时候还会觉得有点怪异。下面是我列出的的个人感觉最有用而又偏执的 10 项 Java 编程技巧。请看：</p>
<h2 id="1-把字符串常量放在前面"><a href="#1-把字符串常量放在前面" class="headerlink" title="1. 把字符串常量放在前面"></a>1. 把字符串常量放在前面</h2><p>通过把字符串常量放在比较函数equals()比较项的左侧来防止偶然的 NullPointerException 从来都不是一个坏主意，就像这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">if (variable.equals(&quot;literal&quot;)) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">if (&quot;literal&quot;.equals(variable)) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>这是毫无疑问的，把一种表达式转换成另一种更好的表达式，并不会失去什么。只要我们的Options是真实存在的（Java 8中 Optional是对可以为空的对象进行的封装），不是吗？讨论一下…</p>
<h2 id="2-不要相信早期的JDK-APIs"><a href="#2-不要相信早期的JDK-APIs" class="headerlink" title="2. 不要相信早期的JDK APIs"></a>2. 不要相信早期的JDK APIs</h2><p>Java刚出现的时候，编程一定是件很痛苦的事。那时的API仍然不够成熟，你可能曾经遇到过这样一段代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">String[] files = file.list();</div><div class="line">  </div><div class="line">// Watch out</div><div class="line">if (files != null) &#123;</div><div class="line">    for (int i = 0; i &lt; files.length; i++) &#123;</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看起来很奇怪对吗？也许吧，但是看看这个Javadoc：</p>
<p>“如果抽象路径名表示的不是一个目录，那么这个方法返回null。否则返回一个字符串数组，其中每个字符串表示当前目录下的一个文件或目录。”</p>
<p>是的，最好再加上判空检查，以确保正确：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">if (file.isDirectory()) &#123;</div><div class="line">    String[] files = file.list();</div><div class="line">  </div><div class="line">    // Watch out</div><div class="line">    if (files != null) &#123;</div><div class="line">        for (int i = 0; i &lt; files.length; i++) &#123;</div><div class="line">            ...</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>糟糕！前者违反了 Java 编码中 10 个微妙的最佳实践 的规则＃5和＃6。因此一定要记得判 null检查！</p>
<h2 id="3-不要相信“-1”"><a href="#3-不要相信“-1”" class="headerlink" title="3. 不要相信“-1”"></a>3. 不要相信“-1”</h2><p>我知道这很偏执，Javadoc中关于 String.indexOf() 的早期描述是这样的…</p>
<p>“字符在字符序列中第一次出现的位置将作为结果[被返回]，如果字符不存在则返回-1。”</p>
<p>所以，-1 就可以理所当然被拿来用，对吗？我说不对，看看这个：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">if (string.indexOf(character) != -1) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">if (string.indexOf(character) &gt;= 0) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>谁知道呢。也许在某个特定场合下他们将会需要另一种 编码值，如果不区分大小写的话，otherString就会被包含进去…此时或许可以返回 -2呢？谁知道呢。</p>
<p>毕竟，我们有非常多关于NULL——价值亿万美金的错误的讨论。为什么不开始讨论 -1呢，某种意义上来说 -1 是 null 在int类型下的另一种形式。</p>
<h2 id="4-避免意外的赋值"><a href="#4-避免意外的赋值" class="headerlink" title="4. 避免意外的赋值"></a>4. 避免意外的赋值</h2><p>是的。即使最优秀的程序员也可能犯这种错误（当然，不包括我。看#7）。</p>
<p>（假设这是JavaScript，我们暂且偏执地认为是这种语言）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// Ooops</div><div class="line">if (variable = 5) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Better (because causes an error)</div><div class="line">if (5 = variable) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Intent (remember. Paranoid JavaScript: ===)</div><div class="line">if (5 === variable) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>再说一遍。如果你的表达式中有常量，将它放在等式左边。这样当你打算再添加一个 = 时，不容易出错。</p>
<h2 id="5-检查null和长度"><a href="#5-检查null和长度" class="headerlink" title="5. 检查null和长度"></a>5. 检查null和长度</h2><p>不管什么时候你有一个集合、数组或者其他的，确保它存在并且不为空。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">if (array.length &gt; 0) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">if (array != null &amp;&amp; array.length &gt; 0) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>你不知道这些数组来自哪儿，也许是早期的JDK API呢？</p>
<h2 id="6-所有的方法都用-final-声明"><a href="#6-所有的方法都用-final-声明" class="headerlink" title="6. 所有的方法都用 final 声明"></a>6. 所有的方法都用 final 声明</h2><p>你可以告诉我任何你想要的开闭原则，不过那都是胡说八道。我不相信你（可以正确继承我的类），也不相信我自己（不会意外地继承我的类）。因此除了接口（专门用于继承）都应该是严格的 final。可以查看我们的 Java 编码中 10 个微妙的最佳实践 中的#9。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">public void boom() &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good. Don&apos;t touch.</div><div class="line">public final void dontTouch() &#123; ... &#125;</div><div class="line">是的，写成final。如果这样做对你来说没有意义，你也可以通过修改或重写字节码来改变类和方法，或者发送功能请求。我敢肯定重写类/方法并不是一个好主意。</div></pre></td></tr></table></figure>
<h2 id="7-所有的变量和参数都用-final-声明"><a href="#7-所有的变量和参数都用-final-声明" class="headerlink" title="7. 所有的变量和参数都用 final 声明"></a>7. 所有的变量和参数都用 final 声明</h2><p>就像我说的。我不相信自己不会无意间重写了某个值。这么说来，我的确一点都不相信自己。因为：</p>
<p>这也是为什么所有的变量和参数都用final声明的原因。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">void input(String importantMessage) &#123;</div><div class="line">    String answer = &quot;...&quot;;</div><div class="line">  </div><div class="line">    answer = importantMessage = &quot;LOL accident&quot;;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">final void input(final String importantMessage) &#123;</div><div class="line">    final String answer = &quot;...&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>好吧，我承认，这一条我自己也不常用，虽然我应该用。我希望Java能像Scala语言一样，人们在所有地方都直接用 val 来表示变量，甚至都不考虑易变性，除非明确需要的时候他们才用 var 来声明变量，但是这样的机会特别少。</p>
<h2 id="8-重载的时候不要相信泛型"><a href="#8-重载的时候不要相信泛型" class="headerlink" title="8. 重载的时候不要相信泛型"></a>8. 重载的时候不要相信泛型</h2><p>是的，这是会发生的。你觉得你写了一个超好的API，它真的是既酷炫又直观；接着就出现了一群用户，他们只是把一切类型生搬硬套进 Object 中 直到那该死的编译器停止工作，然后他们突然链接到了错误的方法，认为这一切都是你的错（事情总是这样）。</p>
<p>思考一下这个：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">&lt;T&gt; void bad(T value) &#123;</div><div class="line">    bad(Collections.singletonList(value));</div><div class="line">&#125;</div><div class="line">  </div><div class="line">&lt;T&gt; void bad(List&lt;T&gt; values) &#123;</div><div class="line">    ...</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">final &lt;T&gt; void good(final T value) &#123;</div><div class="line">    if (value instanceof List)</div><div class="line">        good((List&lt;?&gt;) value);</div><div class="line">    else</div><div class="line">        good(Collections.singletonList(value));</div><div class="line">&#125;</div><div class="line">  </div><div class="line">final &lt;T&gt; void good(final List&lt;T&gt; values) &#123;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因为，你知道的…你的用户们，他们就像这样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// This library sucks</div><div class="line">@SuppressWarnings(&quot;all&quot;)</div><div class="line">Object t = (Object) (List) Arrays.asList(&quot;abc&quot;);</div><div class="line">bad(t);</div></pre></td></tr></table></figure>
<p>相信我，我看过的多了，还有这样的</p>
<p><img src="http://static.oschina.net/uploads/img/201510/15081159_pzQc.jpg" alt=""></p>
<p>所以说偏执是有好处的。</p>
<h2 id="9-总是在switch语句里加上default"><a href="#9-总是在switch语句里加上default" class="headerlink" title="9. 总是在switch语句里加上default"></a>9. 总是在switch语句里加上default</h2><p>Switch…作为最滑稽的表达式之一，我不知道是该心存敬畏还是默默哭泣。不管怎样，我们既然无法摆脱 switch ，在必要的时候我们最好能够正确使用它，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: foo(); break;</div><div class="line">    case 2: bar(); break;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: foo(); break;</div><div class="line">    case 2: bar(); break;</div><div class="line">    default:</div><div class="line">        throw new ThreadDeath(&quot;That&apos;ll teach them&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因为在当 value=3 被引入到软件中的时候，default 就能发挥作用，使其正常运行！别和我提 enum 类型，因为这对 enums 也一样适用。</p>
<h2 id="10-用大括号隔开-switch-的每一个-case-块"><a href="#10-用大括号隔开-switch-的每一个-case-块" class="headerlink" title="10. 用大括号隔开 switch 的每一个 case 块"></a>10. 用大括号隔开 switch 的每一个 case 块</h2><p>事实上，switch是最坑爹的语句，任何喝醉了或是赌输了的人都可以在某种语言中使用它。看看下面这个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">// Bad, doesn&apos;t compile</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: int j = 1; break;</div><div class="line">    case 2: int j = 2; break;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: &#123;</div><div class="line">        final int j = 1;</div><div class="line">        break;</div><div class="line">    &#125;</div><div class="line">    case 2: &#123;</div><div class="line">        final int j = 2;</div><div class="line">        break;</div><div class="line">    &#125;</div><div class="line">  </div><div class="line">    // Remember:</div><div class="line">    default: </div><div class="line">        throw new ThreadDeath(&quot;That&apos;ll teach them&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在switch语句中，为所有的case都只定义了一个作用域。事实上，这些case不是真正意义上的语句，他们更像是标签，而switch就是指向这些标签的goto语句。事实上，你甚至可以把case语句和 惊人的FORTRAN77项声明 类比，对于FORTRAN，它的神秘已经超越了它的功能。</p>
<p>这意味着变量final int j 可以被任何case访问，不论我们是否有break。看起来并不是很直观。我们可以通过添加简单的花括号为每一个case创建一个新的嵌套的作用域，当然不要忘了在每个 case 的语句块最后加 break。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>编程时的强迫症有时候看起来会很奇怪，会使得代码往往比必需的还要冗长。你可能会想，“啊，这种情况永远不会发生！”，但是正如我所说的，在经历了 20年左右的编程生涯后，你不会想要再去修正那些只是因为编程语言的古老和固有缺陷而导致的愚蠢而不必要的bug了。因为你知道…..</p>
<p><a href="https://youtu.be/oO3YmT2d-8k" target="_blank" rel="external">https://youtu.be/oO3YmT2d-8k</a></p>
<h2 id="现在，轮到你了！"><a href="#现在，轮到你了！" class="headerlink" title="现在，轮到你了！"></a>现在，轮到你了！</h2><p>你在编程时有哪些强迫症呢？</p>
<p>原文链接： javacodegeeks <br><br>翻译： ImportNew.com - LynnShaw <br><br>译文链接： <a href="http://www.importnew.com/16805.html" target="_blank" rel="external">http://www.importnew.com/16805.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/19/野生程序员的故事/" itemprop="url">
                  野生程序员的故事
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-19T17:42:00+08:00" content="2015-10-19">
              2015-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/10/19/野生程序员的故事/" class="leancloud_visitors" data-flag-title="野生程序员的故事">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本文摘自：《Web全栈工程师的自我修养》</p>
<p>原文地址：<a href="http://geek.csdn.net/news/detail/38743" target="_blank" rel="external">http://geek.csdn.net/news/detail/38743</a></p>
<p>野生程序员是指仅凭对计算机开发的兴趣进入这个行业，从前端到后台一手包揽，但各方面能力都不精通的人。野生程序员有很强大的单兵作战能力，但是在编入“正规军”之后，可能会不适应新的做事方法。</p>
<h1 id="遭遇“野生程序员”"><a href="#遭遇“野生程序员”" class="headerlink" title="遭遇“野生程序员”"></a>遭遇“野生程序员”</h1><p>腾讯公司内部的团队很多，在团队管理上有项目和专业两个维度。也就是说，有些团队是项目维度的，整个团队共同维护一个产品，成员来自不同的职业岗位；有些团队是专业维度的，比如一个组都是前端工程师，维护不同的产品。</p>
<p>因为前端组是设计部最接近后台技术的团队，所以团队平时的工作和技术交流分享，都不局限于前端技术领域，还包括很多服务器端或者移动端的技术。从前端到后端，一些技术问题都要我们自己来解决。</p>
<p>在招聘前端工程师的时候，我们对应聘者的要求是，在掌握基本前端技术的前提下，最好有更为全面的技术。这样，即使我们的项目人力结构、平台和方向发生变化的时候，他也能够更加灵活地转移到其他角色中。而且技术的全面更能表现一个人对技术的热情以及较强的学习能力。从团队多样性来讲，多一些技术种类的话，大家在一起也能碰撞出新的火花。</p>
<p>有一次，我在QQ群发布了一条简单的信息：“招聘前端工程师，全栈更佳。”随后有一个“全栈工程师”A君向我自荐。</p>
<p>我仔细看了他的简历：“三年工作经验，擅长PHP、MySQL数据库、jQuery、HTML和CSS，对CDN加速和网络安全也颇有研究。”他的简历让我眼前一亮，于是我跟他进行了一次简单的电话面试。</p>
<p>电话面试的第一个环节照例是让A君简短地介绍自己。A君在一个传统行业的小公司做IT技术支持工作，公司的3个网站项目都是他一手搭建，从架构到编码细节他都如数家珍。他号称能解决一切技术问题，老板提出的所有需求都能完成，而且只有他能完成。随着最近公司业务量越来越大，他还招了两个下属，但是主要的编程工作还是他在做。</p>
<p>我问他：“我们的职位是前端工程师，那么您有哪些前端方面的技能呢？”他回答：“我擅长HTML、CSS和JavaScript。”</p>
<p>“对于Web性能优化，您有哪些了解和经验吗？”他思索了一阵答道：“我们在发布项目之前压缩CSS和JavaScript源代码，这样文件体积就变小了，用户加载必要资源所花的时间也就更短了。”我继续说道，很好，还有吗？他想了半天，答不上来了。</p>
<p>其实关于Web性能优化，有非常多的方面可以去做，我希望应聘者能尽量多回答一些。</p>
<ul>
<li>压缩源码和图片<br>JavaScript文件源代码可以采用混淆压缩的方式，CSS文件源代码进行普通压缩，JPG图片可以根据具体质量来压缩为50%到70%，PNG可以使用一些开源压缩软件来压缩，比如24色变成8色、去掉一些PNG格式信息等。</li>
</ul>
<p>选择合适的图片格式<br>如果图片颜色数较多就使用JPG格式，如果图片颜色数较少就使用PNG格式，如果能够通过服务器端判断浏览器支持WebP，那么就使用WebP格式和SVG格式。</p>
<ul>
<li><p>合并静态资源<br>包括CSS、JavaScript和小图片，减少HTTP请求。</p>
</li>
<li><p>开启服务器端的Gzip压缩<br>这对文本资源非常有效，对图片资源则没那么大的压缩比率。</p>
</li>
<li><p>使用CDN<br>或者一些公开库使用第三方提供的静态资源地址（比如jQuery、normalize.css）。一方面增加并发下载量，另一方面能够和其他网站共享缓存。</p>
</li>
<li><p>延长静态资源缓存时间<br>这样，频繁访问网站的访客就能够更快地访问。不过，这里要通过修改文件名的方式，确保在资源更新的时候，用户会拉取到最新的内容。</p>
</li>
<li><p>把CSS放在页面头部，把JavaScript放在页面底部<br>这样就不会阻塞页面渲染，让页面出现长时间的空白。</p>
</li>
</ul>
<p>每一个条目都可以进一步深层挖掘下去。</p>
<p>Web性能优化分为服务器端和浏览器端两个方面。</p>
<p>此外，由于中文的歧义性，Web性能优化这个词既可以解读成页面加载速度（Page Speed）的优化，也可以解读成页面渲染性能（Page Performance）的优化。或者是二者的集合。所以，应聘者如果能在这个问题上多做一些分析，会有很高的加分。但是A君在网络性能方面的研究只是浅尝辄止，停留在压缩资源方面，这说明他还没有足够理解HTTP协议本身。</p>
<p>关于网络性能和HTTP协议，作为大公司的前端工程师是非常看重的，因为每一个页面都会有亿万用户访问量，任何一点对服务器带宽压力都会积少成多，最终造成很大的成本。关于这方面的技术详解，我在后面会有一篇单独的文章来分析。</p>
<p>接着上面的故事，我想既然他对Web性能优化方面不太熟悉，可能他是一个偏后台的程序员，因而就又问道：“关于服务器端MVC架构的技术实现，您是怎样理解的？”他说：“是数据模型、视图、控制器的分离。”</p>
<p>我更进一步问道：“这种架构方式有什么好处？您在项目中是如何应用这一架构的？”他回答说：“MVC的架构方式会让项目可维护性更高，所有涉及界面的代码都在视图（View）里面，所有涉及核心逻辑的代码都在模型（Model）里面，URL路由之类的代码都在控制器（Controller）里面。我在项目中使用了MVC架构的PHP框架——CodeIgniter。”</p>
<p>我一边打开他的网站，一边继续跟他电话沟通。当看到网站的CSS代码都直接内嵌在HTML头部的时候，我忍不住问他：“为什么您的网站的CSS代码都内嵌在HTML里面呢，是使用自动化工具合并进去的吗？”他支支吾吾地说：“因为在本地调试的时候，CSS文件修改经常不生效，所以就直接在HTML里面改了，这样比较快。”</p>
<p>好吧，我想这是一个典型的“知易行难”的开发者，他知道采用MVC架构的项目的可维护性更高，可是在分离样式与结构上面还没有达到最基本的要求，甚至把CSS写在HTML中。至于他说的在本地环境上发现CSS文件经常缓存，可能要看看本地服务器的缓存设置是否有问题，然后再做调试。稍微了解一点HTTP的浏览器端缓存，这就不是难事了。我更欣赏在开发流程上花工夫去理解和优化的应聘者，而不是马马虎虎，只是以完成需求为目标的人。</p>
<p>我突然想到他说的“所有需求他都能完成，且只有他能完成”，于是就想问问他代码版本管理方面的问题。我说：“您们团队现在加入了两个新人，那么您们如何进行代码版本管理？”他回答：“我们有一台测试服务器，用FTP来测试代码，如果在测试机上没有问题的话，我们就会发布到生产环境。”</p>
<p>我说：“等等，我不是问您们代码部署的问题，是平时您们如何管理代码版本，如何分工协作的？”他说：“我们把代码从测试服务器上拷下来，修改完了之后再传上去。”</p>
<p>到这里，我终于明白为什么他们团队的新人无法快速融入项目了，因为项目没有使用SVN或者Git这样的版本管理工具。团队只有一个人在写代码的时候，缺乏版本管理工具的问题可能还不会暴露出来，但是当更多成员加入时，整个项目就会寸步难行，大家都要花大量的时间合并代码，以及找回丢失的代码。万一出现了外网bug，版本工具也能帮我们把站点状态快速恢复到之前的时间点。在本书的后面章节，我会详细介绍版本管理工具。</p>
<p>最后我抱着几乎绝望的心情，问了下关系数据库设计原则方面的问题，他的回答也不是很理想。</p>
<p>我知道，我又遭遇了“野生程序员”。</p>
<h1 id="什么是“野生程序员”"><a href="#什么是“野生程序员”" class="headerlink" title="什么是“野生程序员”"></a>什么是“野生程序员”</h1><p>所谓“野生程序员”，就是没有计算机基础知识和相关教育经历，靠着对计算机开发的兴趣进入这个行业，虽然知识面比较广，但是各方面都一知半解的开发者。</p>
<p>这几年我从一个求职者，转变成一个招聘者，有一个感受就是，中国高等教育与市场需求不接轨。学校不了解市场究竟需要什么样的人才，其设立的课程和技术往往比市场技术现状落后了5年以上。我在大学学习用ASP建站，但是现在已经几乎没有人用ASP建站了。一个直接的后果是，很多高校毕业生不能满足企业的要求。</p>
<p>与此同时，中国互联网市场蓬勃发展，特别是移动互联网的发力，让中国跳过“WAP时代”，直接进入“App时代”。市场的热钱都投入到互联网行业，“BAT”等大公司不断扩张，创业公司也如雨后春笋，整个市场对软件工程师的需求缺口巨大，所以很多公司在招人的时候，没法招聘到“专业”的计算机专业毕业生。</p>
<p>在美国，因为教育与市场稳定发展了很多年，供求关系相对平衡，计算机相关专业本科已经成为基本要求。举例而言，美国的硅谷公司（如Google）绝大部分前端开发招聘岗位都有一个最低要求——本科学历，计算机相关专业。</p>
<p>相比而言，从中国的大公司（如腾讯）的招聘网站上可以看出，有一些前端开发岗位没有对学历的要求，也有一些要求“本科及以上学历”，少数才会要求“本科学历，计算机相关专业”。我们的团队中就有一些成员是大专学历。许多企业在招聘的时候往往放松了对学历的要求，只看重项目和经验，而不看重学历。这是一件好事，代表市场在高等教育的规模和质量都跟不上市场要求的情况下，给予更多有兴趣和能力的年轻人进入IT领域的机会，也填补了人才市场的空缺。</p>
<p>美国硅谷，是世界互联网公司的中心，是所有求职者梦寐以求的圣地。在最开始，硅谷之所以名字当中有一个“硅”字，是因为当地企业多数是从事加工制造高浓度硅的半导体行业和电脑工业。随后，互联网公司和软件公司渐渐取代传统的硬件公司，让硅谷获得了新的生命，但硅谷这个名字保留了下来。在硅谷从诞生到发展壮大的整个生命周期中，斯坦福大学起到了很大的作用，我认为称之为硅谷的母亲也不为过。</p>
<p>在中国，由于政策、环境、历史原因，还有大学教育投入上的差异，导致大学在整个互联网发展中起的作用没那么大。中美两国IT人才市场供求关系上的这些差别，也反映在整个行业文化中。</p>
<p>一个直观的反映就是软件工程师的“草根”化。其实很多软件工程师的收入都很高，处于中上层水平，相比金融行业的白领也毫不逊色，但是一谈起程序员，大家的印象还是“一年四季的T恤（在行业展会上免费拿的）牛仔裤，平时也喜欢宅在家里，不会像同样收入的金融白领，平时爱好听歌剧打高尔夫球”。这种差异一方面是外部人士对软件工程师职业的偏见，另一方面也是程序员行业的自黑习惯。在招聘时岗位要求就已经放到最低：不要求学历、上班不要求着装、上下班时间灵活，这样才好更方便地招聘。而金融行业有意识地塑造一种“精英”文化，从学历就设置高门槛，即使有些工作根本不需要那么高的学历。</p>
<p>回到毕业生的话题，很多跨专业的学生发现自己兴趣在互联网和计算机方向的时候，就开始了自学之路，基本上学习方式有这样几种。</p>
<ul>
<li><p>书：在计算机图书领域，技术难度跟图书销量是成反比的，从标签教起的HTML/CSS基础书籍卖得最好，其次是关于JavaScript和jQuery的书，Angular和Node.js之类的就没那么畅销了。</p>
</li>
<li><p>互联网：得益于全世界都在互联网上共享的资源，现在的学习者有了更多的选择，比如关于Web开发基础教学的W3CSchool，还有海量的技术博客。我个人喜欢订阅一些英文大站，比如Smashing Magazine（<a href="http://www.smashingmagazine.com/）、tuts+（http://tutsplus.com/）等。我在读大学的时候，Google" target="_blank" rel="external">http://www.smashingmagazine.com/）、tuts+（http://tutsplus.com/）等。我在读大学的时候，Google</a> Reader还没有永久关闭，那时候我很喜欢用RSS来关注这些站点的更新情况。Google Reader下线后，就基本上废弃了RSS阅读的习惯，转而用一些社交网站来追踪更新情况，但是有时还是会淹没在大量无用的信息里面。</p>
</li>
<li><p>社团：学校的网站社团也孕育了许多能力很强的开发者，社团经过历届的传帮带，技术有所积累，比如师兄会教师弟用Sublime编辑器，这就比还在用Dreamweaver的同学更有优势。此外，学校社团有一些定点客户，比如学校教务处、周边商户，所以有更多的实战经验，在毕业时作品集也丰富了不少。</p>
</li>
</ul>
<p>因为有这样一些自学渠道，所以不一定只有计算机专业毕业的学生才有机会进入互联网行业。毕业之后，这些计算机爱好者进入不同的工作岗位，不同的是，有些进入大公司，有些进入小公司。这两者的成长轨迹往往会不太一样。</p>
<h2 id="小公司有很多野生程序员"><a href="#小公司有很多野生程序员" class="headerlink" title="小公司有很多野生程序员"></a>小公司有很多野生程序员</h2><p>流水线工作流程有诸多优点，但一般来说，大公司才需要很多专精某种技术的工程师，组成一个Web开发团队。创业公司只需要几个技术全面的人来做开发和技术支持，有时候甚至只有一两个人而已。</p>
<p>当然，最主要的原因就是成本和回报的问题。招聘和维持庞大的IT研发团队需要一笔不小的开支，小公司并没有那么多Web服务的需求，一般企业可能只需要一个公司站点就可以了，现在甚至完全不需要Web站点，可以用微信公共账号或者淘宝这样的大平台来完成。如果招聘一个完整的Web研发团队，从用户研究到交互设计、从App开发到数据库管理，直接后果就是整个团队大部分时间都空闲着，无事可做。与之相比，聘请一个或多个全栈工程师会更高效、更省钱。</p>
<p>第二个原因是，很多传统线下公司并不会特别依赖IT技术，有些时候线下渠道占据了公司大部分收入来源，所以公司不需要架设十分完善的线上服务。由于线上服务的用户量少，所以Web服务对稳定性、承受压力、用户体验的要求都没有那么高。此外，由于没有太多重要的用户数据，所以异地容灾也不需要。</p>
<p>因为公司的开发团队小，所以网站无论出现什么问题，都需要他们去解决。从域名到服务器，从前端到后台，从设计到内容，都是一人包揽。野生程序员了解的知识越来越多，但是样样都不精通。我认识几个小公司的程序员，他们没有明确的职称，开发者都统称为程序员，设计师都统称为美工。</p>
<p>在Web技术的任何方向，比如前端开发或者服务器端开发，他们既没有很强的经验，也没有明确的兴趣。那么当他想跳槽到大公司的时候，会发现大公司对岗位和职责的细分非常明确，而自己的能力达不到某个细分岗位的要求。所以他们很难在专业上继续进步，从而陷入原地踏步的窘境。</p>
<h1 id="大公司还是创业公司"><a href="#大公司还是创业公司" class="headerlink" title="大公司还是创业公司"></a>大公司还是创业公司</h1><p>在许多论坛上，常常会看到毕业生提出这样的问题：现在有一个大公司和一个创业公司的机会摆在我面前，我应该选择哪一个？其实每个人有不同的想法、不同的风险偏好，旁人没办法针对这个宽泛的问题给出标准的答案。但是既然提问者是毕业生，这种情况下我还是建议选择大公司，因为会选择创业公司的人往往有自己的主见，已经接受创业公司的邀请去工作了，不会去发帖询问大家的意见。当然这是开玩笑，真正的原因是，在大公司的头两年，是从学生到职场人士的一个转变，您可能会从大平台学习到一些规范的流程方法，养成一些足以影响您一生的习惯，认识更多的能对您职场有帮助的人脉。</p>
<h2 id="大公司能给您的"><a href="#大公司能给您的" class="headerlink" title="大公司能给您的"></a>大公司能给您的</h2><ul>
<li><p>较小的风险<br>每个公司都有倒闭的可能，但是，显然大公司比小公司的风险低多了。如果您的风险承受能力较低，那么不得不考虑这个因素。</p>
</li>
<li><p>技术最佳实践<br>在大公司，对代码质量和一致性的要求很高，所以一般在最终发布前会有代码审查（Code Review）流程和项目总结会等。如果您完成了一个任务，但是没有采用最佳实践，只是hack{![所谓hack，就是不优雅的解决方案。比如一个界面的调整，如果采用最佳实践，需要用MVC架构来分离出界面相关的代码，并且把有可能相关的变量提取出来，合理命名并且放在合理的位置。如果是hack，可能就不管这么多，看见哪里需要修改就原地修改了，表面上看很快解决了问题，可是这会给后面跟进的同事造成很大的困扰。]}了一下，那么其他同事可能都会指出您的问题，并且要求您改正之后再提交。小公司或者创业公司人力比较紧张，在他们看来，快速实现和上线，比优雅地上线更重要，所以对于一些最佳实践类的问题，只能睁一只眼闭一只眼啦。</p>
</li>
<li><p>垂直专精的技能<br>大公司专业分工很细，而且有更多技术沟通和沉淀的氛围，所以容易让人在垂直专精的技术方向有足够的发展。在小公司更能锻炼技术的广度，深度上缺乏锻炼的环境。但是其实二者的利弊，都是外界的，技术人员的个人成长除了工作时间的锻炼，还要靠下班后的时间，外界只是给予一个环境或者机会。</p>
</li>
<li><p>服务海量用户的经验<br>同样是做一个网站，服务少数用户量和服务海量用户量时需要考虑的事情是完全不同的。小网站遇到的问题，大网站一定遇到过，而大网站遇到的问题，小网站就不一定遇到过了。当一个网站发展到业内最强时，它的问题没有人遇到过，这时候就不能凡事问百度、Google或Stack Overflow了，而要自己去探索解决方案。</p>
</li>
<li><p>软技能<br>硬技能是指每个职位需要的专业技能，软技能则是通用的技能，比如沟通、影响力、项目管理和演讲等。越是大公司，越是看重影响力，所以会有很多培训教您如何提高影响力。</p>
</li>
</ul>
<p>我在面试一些来自小公司的应聘者时，就发现他平时的工作中，周边环境很少有分享和沉淀的习惯。沉淀和总结是很重要的，在腾讯，设计师做完一次设计定稿之后，就会把设计的思路，包括整体的设计风格、设计规范和色彩的确定等都总结成一封邮件或者PPT，发送给部门同事。每个人都要有意识地维护自己的作品集，它在半年一次的考核、晋升面试甚至以后的跳槽中都非常有用。但是小公司的设计师不太会总结个人作品集，时间紧急是一方面原因，另一个主要原因是环境不需要他这样做，因此就缺乏了这方面的锻炼。</p>
<ul>
<li><p>人脉<br>每年都有不少人从大公司离职去创业，这是非常自然的事情。对于大公司出来的人来说，之前积累的人脉资源这时候会起到很大的作用，比如创业期间的一些合作机会或者资源的互利，等等。万一创业失败，也不会很惨，因为您之前接触的人脉可以给您提供工作机会。但如果您刚毕业就选择创业，创业失败之后没有人能给您提供工作机会。</p>
</li>
<li><p>心态<br>其实大公司能给予毕业生最大的优势，就是提供一个心智培育的土壤。之前参加面试官培训的时候，我大概了解过公司招聘一个毕业生投入的成本。从校园招聘，到安排面试官面试候选人，再到封闭培训和一些课程培训，再给一段时间熟悉项目，最后3个月试用期后可能还要淘汰掉一些。如果把成本平摊到每一个人身上，这些投入要一年才能收回来。而小公司不会有这么大的耐心去培育一个新人。如果没有足够的时间去学习和成长，可能在一两年后，员工的能力也比较全面，但是样样都不精通，也说不清楚自己的目标是什么，于是就变成了“野生程序员”。</p>
</li>
</ul>
<p>综合来讲，在大公司中，从硬技能到软技能都会有很多经验丰富的前辈能够教您，您会在大平台上学习到很多东西。工作几年之后，员工的选择也很多，要么走技术路线继续发展下去，做高级工程师；要么学习管理和领导力；要么出去创业。</p>
<p>所以，我的个人建议是，<em>*从毕业生自己前途发展的角度来看，先加入一家上市大公司是个不错的选择</em>å。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="小鱼周凌宇" />
          <p class="site-author-name" itemprop="name">小鱼周凌宇</p>
          <p class="site-description motion-element" itemprop="description">技术宅 iOS开发 JAVA开发 萌妹子</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">42</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/summertian4" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/coderfish" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/coderfish" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小鱼周凌宇</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

<span id="busuanzi_container_site_pv">
    | 本站总访问量<span id="busuanzi_value_site_pv"></span>次 (统计起始日期:2016年8月4日)
</span>
        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("PI8DkEcwwAeUsSvTJirjB4NY-gzGzoHsz", "F82ePXFzAey9dKSBAFdoB6ka");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
