<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="技术宅 iOS开发 JAVA开发 萌妹子">
<meta property="og:type" content="website">
<meta property="og:title" content="小鱼のCODE_HOME">
<meta property="og:url" content="http://zhoulingyu.com/page/3/index.html">
<meta property="og:site_name" content="小鱼のCODE_HOME">
<meta property="og:description" content="技术宅 iOS开发 JAVA开发 萌妹子">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小鱼のCODE_HOME">
<meta name="twitter:description" content="技术宅 iOS开发 JAVA开发 萌妹子">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://zhoulingyu.com/page/3/"/>

  <title> 小鱼のCODE_HOME </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">小鱼のCODE_HOME</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">技术宅 iOS开发 JAVA开发 萌妹子</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/about.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/27/iOS学习——CocoaPods的使用/" itemprop="url">
                  iOS学习——CocoaPods的使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-27T09:58:46+08:00" content="2015-10-27">
              2015-10-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/10/27/iOS学习——CocoaPods的使用/" class="leancloud_visitors" data-flag-title="iOS学习——CocoaPods的使用">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CocoaPods"><a href="#CocoaPods" class="headerlink" title="CocoaPods"></a>CocoaPods</h1><p>现在做任何开发都免不了使用第三方库，iOS开发也不例外，每天去逛一逛github成了不可少的必修课。<br>通常，一些简单的框架拖入相应的.h、.m文件就可以使用了。比如<a href="https://github.com/relatedcode/ProgressHUD" target="_blank" rel="external">ProgressHUD</a>、<a href="https://github.com/johnezang/JSONKit" target="_blank" rel="external">JSONKit</a>。但是有时候会出现这样的情况：</p>
<ol>
<li><code>三方库需要依赖系统的一些framework，需要手动的添加</code></li>
<li><code>三方库又使用了三方库，需要再去添加</code></li>
</ol>
<p>这时候，添加库就变成了十分麻烦的事。<br>使用 CocoaPods可以省去这些麻烦，只需要把你想添加的库写在一个文件里，CocoaPods可以帮你一键添加、配置。</p>
<hr>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>CocoaPods安装需要ruby环境，但是 Mac 本身已经安装好了 ruby</p>
<p>需要注意的是，ruby 的软件源 <a href="https://rubygems.org" target="_blank" rel="external">https://rubygems.org</a> 被墙了，所以需要更新 ruby 的源换成源替换成国内淘宝的源 <code>https://ruby.taobao.org/</code> ，在网上看到很多人写成了<a href="http://ruby.taobao.org/，`注意这里一定是https`。" target="_blank" rel="external">http://ruby.taobao.org/，`注意这里一定是https`。</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">gem sources --remove https://rubygems.org/</div><div class="line">gem sources -a https://ruby.taobao.org/</div></pre></td></tr></table></figure>
<p>再执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gem sources -l</div></pre></td></tr></table></figure>
<p>如果出现了下图，就说明替换成功了<br><img src="http://img.blog.csdn.net/20151027101252947" alt="成功替换"></p>
<p>那么，你只需要在终端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo gem install cocoapods</div><div class="line">pod setup</div></pre></td></tr></table></figure>
<p>等待一会CocoaPods就安装好了。</p>
<hr>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>新建一个名为 Podfile 的纯文本文件，没有后缀名，放到你项目的根目录。在文件中写入你需要加载的三方库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pod &apos;JSONKit&apos;,       &apos;~&gt; 1.4&apos;</div><div class="line">pod &apos;Masonry&apos;</div><div class="line">pod &apos;FMDB&apos;</div></pre></td></tr></table></figure>
<p>一般在三方库的readme文件中也会告诉你需要写什么，比如：<br><img src="http://img.blog.csdn.net/20151027101816304" alt="第三方库Masonry的reademe文件"></p>
<p>然后在终端输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd &quot;your project home&quot;</div><div class="line">pod install</div></pre></td></tr></table></figure>
<p>等待一会，CocoaPods会把你需要的所有第三方库下载并且设置好编译参数和依赖。这时会发现项目多了一个.xcworkspace文件，<code>记住</code>，以后都要使用.xcworkspace 文件来打开工程。</p>
<h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><p>如果你又添加新的三方库，可以在Podfile文件中继续添加，然后再终端输入下面的命令CocoaPods就会重新帮你导入。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod update</div></pre></td></tr></table></figure>
<hr>
<h1 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h1><p>之前遇到一个前辈，他们公司刚刚使用CocoaPods（别问我为啥，我也奇了怪了）。然后他们<code>pod update</code>之后，出现了大量的错误。原因是他们之前使用的三方库太老了，早就已经更新，连方法名都变了。为了预防这一类错误，在Podfile中可以指定版本，像这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod &apos;JSONKit&apos;,       &apos;~&gt; 1.4&apos;</div></pre></td></tr></table></figure>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#x6d;&#97;&#x69;&#108;&#116;&#111;&#x3a;&#x63;&#x6f;&#x64;&#x65;&#x72;&#x66;&#105;&#x73;&#x68;&#64;&#49;&#x36;&#x33;&#x2e;&#x63;&#111;&#109;">&#x63;&#x6f;&#x64;&#x65;&#x72;&#x66;&#105;&#x73;&#x68;&#64;&#49;&#x36;&#x33;&#x2e;&#x63;&#111;&#109;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/26/iOS学习——FMDB详解/" itemprop="url">
                  iOS学习——FMDB详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-26T18:54:10+08:00" content="2015-10-26">
              2015-10-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/10/26/iOS学习——FMDB详解/" class="leancloud_visitors" data-flag-title="iOS学习——FMDB详解">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>FMDB现在越来越多的被使用了，作为轻量级数据库框架，FMDB对sqlite做了简单的包装，使得使用更简单。</p>
<p>但是小鱼认为FMDB还是不好用，毕竟不能做到像hebernate一样传一个对象直接保存，直接省去sql语句。之后小鱼打算自己动封装一个框架，至少能够对简单的entity进行一键增删改查。</p>
<hr>
<h1 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h1><p>FMDB链接：<a href="https://github.com/ccgus/fmdb" target="_blank" rel="external">https://github.com/ccgus/fmdb</a></p>
<hr>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="1-使用CocoaPods安装"><a href="#1-使用CocoaPods安装" class="headerlink" title="1. 使用CocoaPods安装"></a>1. 使用CocoaPods安装</h2><p>pods安装当然是最简单的，在Podfile文件中加入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod &apos;FMDB&apos;</div></pre></td></tr></table></figure>
<p>然后终端进入项目根目录，输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod install</div></pre></td></tr></table></figure>
<p>等待安装完就好了</p>
<p>如果不会使用CocoaPods，可以参考我的这篇博文：<a href="http://zhoulingyu.com/2015/10/27/iOS学习——CocoaPods的使用/">iOS学习——CocoaPods的使用</a></p>
<h2 id="2-传统拖文件安装"><a href="#2-传统拖文件安装" class="headerlink" title="2. 传统拖文件安装"></a>2. 传统拖文件安装</h2><p>在github上下载FMDB，把这些文件直接拖入你的项目就可以用了</p>
<p><img src="http://img.blog.csdn.net/20151027094718635" alt="FMDB所需要的文件"></p>
<hr>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>首先要在用到的地方</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#import &quot;FMDB.h&quot;</div></pre></td></tr></table></figure>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><p>如果该位置没有此数据库文件将会建立一个新的数据库文件，如果已经有了，将会直接获得该数据库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">FMDatabase *db = [FMDatabase databaseWithPath:dataBasePath];</div></pre></td></tr></table></figure>
<p>dataBasePath可以这样设定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#define dataBasePath [[(NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES)) lastObject]stringByAppendingPathComponent:dataBaseName]</div><div class="line">#define dataBaseName @&quot;test.sqlite&quot;</div></pre></td></tr></table></figure>
<h2 id="打开数据库"><a href="#打开数据库" class="headerlink" title="打开数据库"></a>打开数据库</h2><p>返回BOOL类型，代表是否成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[db open]</div></pre></td></tr></table></figure>
<h2 id="关闭数据库"><a href="#关闭数据库" class="headerlink" title="关闭数据库"></a>关闭数据库</h2><p>返回BOOL类型，代表是否成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[db close]</div></pre></td></tr></table></figure>
<h2 id="建表"><a href="#建表" class="headerlink" title="建表"></a>建表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">if ([self.db open]) &#123;</div><div class="line">	NSString *sqlCreateTable = @&quot;CREATE TABLE IF NOT EXISTS Question (UUID TEXT PRIMARY KEY, type TEXT, bigQuetionIndex INTEGER, smallQuetionIndex INTEGER, state TEXT, time INTEGER, elapsedTime INTEGER, studentAnswer TEXT, answer TEXT, studentGrade INTEGER, grade INTEGER, content TEXT, examPaperUUID TEXT)&quot;;</div><div class="line">	      </div><div class="line">	BOOL res = [self.db executeStatements:sqlCreateTable];</div><div class="line">	if (!res) &#123;</div><div class="line">		CFLog(@&quot;error when creating db table&quot;);</div><div class="line">	&#125; else &#123;</div><div class="line">		CFLog(@&quot;success to creating db table&quot;);</div><div class="line">	&#125;</div><div class="line">	[self.db close];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="增加数据"><a href="#增加数据" class="headerlink" title="增加数据"></a>增加数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">if ([self.db open]) &#123;</div><div class="line">	 NSString *sql = @&quot;INSERT INTO t_entity (UUID, title) VALUES (?, ?)&quot;;</div><div class="line">        </div><div class="line">        BOOL res = [self.db executeUpdate:sql, entity.UUID, entity.title];</div><div class="line">        </div><div class="line">        if (!res) &#123;</div><div class="line">            CFLog(@&quot;error when insert db table&quot;);</div><div class="line">        &#125; else &#123;</div><div class="line">            CFLog(@&quot;success to insert db table&quot;);</div><div class="line">	&#125;</div><div class="line">	[self.db close];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">if ([self.db open]) &#123;</div><div class="line">        NSString *sql = @&quot;DELETE FROM t_entity WHERE UUID = ?&quot;;</div><div class="line">        BOOL res = [self.db executeUpdate:sql, UUID];</div><div class="line">        </div><div class="line">        if (!res) &#123;</div><div class="line">            CFLog(@&quot;error when DELETE db table&quot;);</div><div class="line">        &#125; else &#123;</div><div class="line">            CFLog(@&quot;success to DELETE db table&quot;);</div><div class="line">        &#125;</div><div class="line">        [self.db close];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="更新数据"><a href="#更新数据" class="headerlink" title="更新数据"></a>更新数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">if ([self.db open]) &#123;</div><div class="line">        NSString *sql = @&quot;UPDATE t_entity SET title = ?&quot;;</div><div class="line">        BOOL res = [self.db executeUpdate:sql,</div><div class="line">                    examPaper.title,</div><div class="line">                    examPaper.UUID];</div><div class="line">        if (!res) &#123;</div><div class="line">            CFLog(@&quot;error when UPDATE db table&quot;);</div><div class="line">        &#125; else &#123;</div><div class="line">            CFLog(@&quot;success to UPDATE db table&quot;);</div><div class="line">        &#125;</div><div class="line">        [self.db close];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="查找数据"><a href="#查找数据" class="headerlink" title="查找数据"></a>查找数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">Entity *entity;</div><div class="line">if ([self.db open]) &#123;</div><div class="line">	//返回数据库中第一条满足条件的结果</div><div class="line">	NSString *sql = @&quot;SELECT * FROM t_entity WHERE UUID = ?&quot;;</div><div class="line">        </div><div class="line">	//返回全部查询结果</div><div class="line">	FMResultSet *rs=[self.db executeQuery:sql, UUID, nil];</div><div class="line">        </div><div class="line">	while ([rs next])&#123;</div><div class="line">		entity = [[Entity alloc] init];</div><div class="line">		entity.UUID = [rs stringForColumn:@&quot;UUID&quot;];</div><div class="line">		entity.type = [rs stringForColumn:@&quot;type&quot;];</div><div class="line">	&#125;</div><div class="line">        </div><div class="line">	[rs close];</div><div class="line">	[self.db close];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="重要提示：使用占位符『-』"><a href="#重要提示：使用占位符『-』" class="headerlink" title="重要提示：使用占位符『?』"></a>重要提示：使用占位符『?』</h2><p>我在网上看到很多人是这样用的</p>
<p><code>错误代码：</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSString *sql = [NSString stringWithFormat: @&quot;INSERT INTO &apos;%@&apos; (&apos;%@&apos;, &apos;%@&apos;, &apos;%@&apos;) VALUES (&apos;%@&apos;, &apos;%@&apos;, &apos;%@&apos;)&quot;, TABLENAME, NAME, AGE, ADDRESS, @&quot;value1&quot;, @&quot;value2&quot;, @&quot;value3&quot;];  </div><div class="line">BOOL res = [db sql];</div></pre></td></tr></table></figure>
<p>这是 <code>错误</code> 的，在官方文档上已经指出：</p>
<blockquote>
<p>you SHOULD NOT do this (or anything like this):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; [db executeUpdate:[NSString stringWithFormat:@&quot;INSERT INTO myTable VALUES (%@)&quot;, @&quot;this has \&quot; lots of &apos; bizarre \&quot; quotes &apos;&quot;]];</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>Instead, you SHOULD do:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; [db executeUpdate:@&quot;INSERT INTO myTable VALUES (?)&quot;, @&quot;this has \&quot; lots of &apos; bizarre \&quot; quotes &apos;&quot;];</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<p>也就是说不应该使用拼串的方式，而应该使用<code>占位符</code></p>
<h2 id="重要提示：使用NSNumber保存"><a href="#重要提示：使用NSNumber保存" class="headerlink" title="重要提示：使用NSNumber保存"></a>重要提示：使用NSNumber保存</h2><p>官方文档指出，用int保存是 <code>不起作用</code> 的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[db executeUpdate:@&quot;INSERT INTO myTable VALUES (?)&quot;, 42];</div></pre></td></tr></table></figure>
<p><code>正确</code> 的做法是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[db executeUpdate:@&quot;INSERT INTO myTable VALUES (?)&quot;, &gt; [NSNumber numberWithInt:42]];</div></pre></td></tr></table></figure>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#109;&#x61;&#x69;&#x6c;&#116;&#111;&#58;&#99;&#111;&#x64;&#x65;&#x72;&#x66;&#105;&#x73;&#104;&#64;&#x31;&#54;&#x33;&#46;&#x63;&#x6f;&#109;">&#99;&#111;&#x64;&#x65;&#x72;&#x66;&#105;&#x73;&#104;&#64;&#x31;&#54;&#x33;&#46;&#x63;&#x6f;&#109;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/19/偏执却管用的 10 条 Java 编程技巧/" itemprop="url">
                  偏执却管用的 10 条 Java 编程技巧
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-19T19:18:00+08:00" content="2015-10-19">
              2015-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/10/19/偏执却管用的 10 条 Java 编程技巧/" class="leancloud_visitors" data-flag-title="偏执却管用的 10 条 Java 编程技巧">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原文链接： javacodegeeks <br><br>翻译： ImportNew.com - LynnShaw <br><br>译文链接： <a href="http://www.importnew.com/16805.html" target="_blank" rel="external">http://www.importnew.com/16805.html</a></p>
<p>经过一段时间的编码（咦，我已经经历了将近20年的编程生涯，快乐的日子总是过得很快），我们开始感谢那些好习惯。因为，你知道…</p>
<p><code>“任何可能出错的事情，最后都会出错。”</code></p>
<p>这就是人们为什么喜欢进行“防错性程序设计”的原因。偏执的习惯有时很有意义，有时则不够清晰也不够聪明，也许当你想到这样写的人的时候还会觉得有点怪异。下面是我列出的的个人感觉最有用而又偏执的 10 项 Java 编程技巧。请看：</p>
<h2 id="1-把字符串常量放在前面"><a href="#1-把字符串常量放在前面" class="headerlink" title="1. 把字符串常量放在前面"></a>1. 把字符串常量放在前面</h2><p>通过把字符串常量放在比较函数equals()比较项的左侧来防止偶然的 NullPointerException 从来都不是一个坏主意，就像这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">if (variable.equals(&quot;literal&quot;)) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">if (&quot;literal&quot;.equals(variable)) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>这是毫无疑问的，把一种表达式转换成另一种更好的表达式，并不会失去什么。只要我们的Options是真实存在的（Java 8中 Optional是对可以为空的对象进行的封装），不是吗？讨论一下…</p>
<h2 id="2-不要相信早期的JDK-APIs"><a href="#2-不要相信早期的JDK-APIs" class="headerlink" title="2. 不要相信早期的JDK APIs"></a>2. 不要相信早期的JDK APIs</h2><p>Java刚出现的时候，编程一定是件很痛苦的事。那时的API仍然不够成熟，你可能曾经遇到过这样一段代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">String[] files = file.list();</div><div class="line">  </div><div class="line">// Watch out</div><div class="line">if (files != null) &#123;</div><div class="line">    for (int i = 0; i &lt; files.length; i++) &#123;</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看起来很奇怪对吗？也许吧，但是看看这个Javadoc：</p>
<p>“如果抽象路径名表示的不是一个目录，那么这个方法返回null。否则返回一个字符串数组，其中每个字符串表示当前目录下的一个文件或目录。”</p>
<p>是的，最好再加上判空检查，以确保正确：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">if (file.isDirectory()) &#123;</div><div class="line">    String[] files = file.list();</div><div class="line">  </div><div class="line">    // Watch out</div><div class="line">    if (files != null) &#123;</div><div class="line">        for (int i = 0; i &lt; files.length; i++) &#123;</div><div class="line">            ...</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>糟糕！前者违反了 Java 编码中 10 个微妙的最佳实践 的规则＃5和＃6。因此一定要记得判 null检查！</p>
<h2 id="3-不要相信“-1”"><a href="#3-不要相信“-1”" class="headerlink" title="3. 不要相信“-1”"></a>3. 不要相信“-1”</h2><p>我知道这很偏执，Javadoc中关于 String.indexOf() 的早期描述是这样的…</p>
<p>“字符在字符序列中第一次出现的位置将作为结果[被返回]，如果字符不存在则返回-1。”</p>
<p>所以，-1 就可以理所当然被拿来用，对吗？我说不对，看看这个：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">if (string.indexOf(character) != -1) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">if (string.indexOf(character) &gt;= 0) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>谁知道呢。也许在某个特定场合下他们将会需要另一种 编码值，如果不区分大小写的话，otherString就会被包含进去…此时或许可以返回 -2呢？谁知道呢。</p>
<p>毕竟，我们有非常多关于NULL——价值亿万美金的错误的讨论。为什么不开始讨论 -1呢，某种意义上来说 -1 是 null 在int类型下的另一种形式。</p>
<h2 id="4-避免意外的赋值"><a href="#4-避免意外的赋值" class="headerlink" title="4. 避免意外的赋值"></a>4. 避免意外的赋值</h2><p>是的。即使最优秀的程序员也可能犯这种错误（当然，不包括我。看#7）。</p>
<p>（假设这是JavaScript，我们暂且偏执地认为是这种语言）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// Ooops</div><div class="line">if (variable = 5) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Better (because causes an error)</div><div class="line">if (5 = variable) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Intent (remember. Paranoid JavaScript: ===)</div><div class="line">if (5 === variable) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>再说一遍。如果你的表达式中有常量，将它放在等式左边。这样当你打算再添加一个 = 时，不容易出错。</p>
<h2 id="5-检查null和长度"><a href="#5-检查null和长度" class="headerlink" title="5. 检查null和长度"></a>5. 检查null和长度</h2><p>不管什么时候你有一个集合、数组或者其他的，确保它存在并且不为空。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">if (array.length &gt; 0) &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">if (array != null &amp;&amp; array.length &gt; 0) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>你不知道这些数组来自哪儿，也许是早期的JDK API呢？</p>
<h2 id="6-所有的方法都用-final-声明"><a href="#6-所有的方法都用-final-声明" class="headerlink" title="6. 所有的方法都用 final 声明"></a>6. 所有的方法都用 final 声明</h2><p>你可以告诉我任何你想要的开闭原则，不过那都是胡说八道。我不相信你（可以正确继承我的类），也不相信我自己（不会意外地继承我的类）。因此除了接口（专门用于继承）都应该是严格的 final。可以查看我们的 Java 编码中 10 个微妙的最佳实践 中的#9。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">public void boom() &#123; ... &#125;</div><div class="line">  </div><div class="line">// Good. Don&apos;t touch.</div><div class="line">public final void dontTouch() &#123; ... &#125;</div><div class="line">是的，写成final。如果这样做对你来说没有意义，你也可以通过修改或重写字节码来改变类和方法，或者发送功能请求。我敢肯定重写类/方法并不是一个好主意。</div></pre></td></tr></table></figure>
<h2 id="7-所有的变量和参数都用-final-声明"><a href="#7-所有的变量和参数都用-final-声明" class="headerlink" title="7. 所有的变量和参数都用 final 声明"></a>7. 所有的变量和参数都用 final 声明</h2><p>就像我说的。我不相信自己不会无意间重写了某个值。这么说来，我的确一点都不相信自己。因为：</p>
<p>这也是为什么所有的变量和参数都用final声明的原因。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">void input(String importantMessage) &#123;</div><div class="line">    String answer = &quot;...&quot;;</div><div class="line">  </div><div class="line">    answer = importantMessage = &quot;LOL accident&quot;;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">final void input(final String importantMessage) &#123;</div><div class="line">    final String answer = &quot;...&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>好吧，我承认，这一条我自己也不常用，虽然我应该用。我希望Java能像Scala语言一样，人们在所有地方都直接用 val 来表示变量，甚至都不考虑易变性，除非明确需要的时候他们才用 var 来声明变量，但是这样的机会特别少。</p>
<h2 id="8-重载的时候不要相信泛型"><a href="#8-重载的时候不要相信泛型" class="headerlink" title="8. 重载的时候不要相信泛型"></a>8. 重载的时候不要相信泛型</h2><p>是的，这是会发生的。你觉得你写了一个超好的API，它真的是既酷炫又直观；接着就出现了一群用户，他们只是把一切类型生搬硬套进 Object 中 直到那该死的编译器停止工作，然后他们突然链接到了错误的方法，认为这一切都是你的错（事情总是这样）。</p>
<p>思考一下这个：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">&lt;T&gt; void bad(T value) &#123;</div><div class="line">    bad(Collections.singletonList(value));</div><div class="line">&#125;</div><div class="line">  </div><div class="line">&lt;T&gt; void bad(List&lt;T&gt; values) &#123;</div><div class="line">    ...</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">final &lt;T&gt; void good(final T value) &#123;</div><div class="line">    if (value instanceof List)</div><div class="line">        good((List&lt;?&gt;) value);</div><div class="line">    else</div><div class="line">        good(Collections.singletonList(value));</div><div class="line">&#125;</div><div class="line">  </div><div class="line">final &lt;T&gt; void good(final List&lt;T&gt; values) &#123;</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因为，你知道的…你的用户们，他们就像这样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// This library sucks</div><div class="line">@SuppressWarnings(&quot;all&quot;)</div><div class="line">Object t = (Object) (List) Arrays.asList(&quot;abc&quot;);</div><div class="line">bad(t);</div></pre></td></tr></table></figure>
<p>相信我，我看过的多了，还有这样的</p>
<p><img src="http://static.oschina.net/uploads/img/201510/15081159_pzQc.jpg" alt=""></p>
<p>所以说偏执是有好处的。</p>
<h2 id="9-总是在switch语句里加上default"><a href="#9-总是在switch语句里加上default" class="headerlink" title="9. 总是在switch语句里加上default"></a>9. 总是在switch语句里加上default</h2><p>Switch…作为最滑稽的表达式之一，我不知道是该心存敬畏还是默默哭泣。不管怎样，我们既然无法摆脱 switch ，在必要的时候我们最好能够正确使用它，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// Bad</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: foo(); break;</div><div class="line">    case 2: bar(); break;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: foo(); break;</div><div class="line">    case 2: bar(); break;</div><div class="line">    default:</div><div class="line">        throw new ThreadDeath(&quot;That&apos;ll teach them&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因为在当 value=3 被引入到软件中的时候，default 就能发挥作用，使其正常运行！别和我提 enum 类型，因为这对 enums 也一样适用。</p>
<h2 id="10-用大括号隔开-switch-的每一个-case-块"><a href="#10-用大括号隔开-switch-的每一个-case-块" class="headerlink" title="10. 用大括号隔开 switch 的每一个 case 块"></a>10. 用大括号隔开 switch 的每一个 case 块</h2><p>事实上，switch是最坑爹的语句，任何喝醉了或是赌输了的人都可以在某种语言中使用它。看看下面这个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">// Bad, doesn&apos;t compile</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: int j = 1; break;</div><div class="line">    case 2: int j = 2; break;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">// Good</div><div class="line">switch (value) &#123;</div><div class="line">    case 1: &#123;</div><div class="line">        final int j = 1;</div><div class="line">        break;</div><div class="line">    &#125;</div><div class="line">    case 2: &#123;</div><div class="line">        final int j = 2;</div><div class="line">        break;</div><div class="line">    &#125;</div><div class="line">  </div><div class="line">    // Remember:</div><div class="line">    default: </div><div class="line">        throw new ThreadDeath(&quot;That&apos;ll teach them&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在switch语句中，为所有的case都只定义了一个作用域。事实上，这些case不是真正意义上的语句，他们更像是标签，而switch就是指向这些标签的goto语句。事实上，你甚至可以把case语句和 惊人的FORTRAN77项声明 类比，对于FORTRAN，它的神秘已经超越了它的功能。</p>
<p>这意味着变量final int j 可以被任何case访问，不论我们是否有break。看起来并不是很直观。我们可以通过添加简单的花括号为每一个case创建一个新的嵌套的作用域，当然不要忘了在每个 case 的语句块最后加 break。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>编程时的强迫症有时候看起来会很奇怪，会使得代码往往比必需的还要冗长。你可能会想，“啊，这种情况永远不会发生！”，但是正如我所说的，在经历了 20年左右的编程生涯后，你不会想要再去修正那些只是因为编程语言的古老和固有缺陷而导致的愚蠢而不必要的bug了。因为你知道…..</p>
<p><a href="https://youtu.be/oO3YmT2d-8k" target="_blank" rel="external">https://youtu.be/oO3YmT2d-8k</a></p>
<h2 id="现在，轮到你了！"><a href="#现在，轮到你了！" class="headerlink" title="现在，轮到你了！"></a>现在，轮到你了！</h2><p>你在编程时有哪些强迫症呢？</p>
<p>原文链接： javacodegeeks <br><br>翻译： ImportNew.com - LynnShaw <br><br>译文链接： <a href="http://www.importnew.com/16805.html" target="_blank" rel="external">http://www.importnew.com/16805.html</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/19/野生程序员的故事/" itemprop="url">
                  野生程序员的故事
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-19T17:42:00+08:00" content="2015-10-19">
              2015-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/10/19/野生程序员的故事/" class="leancloud_visitors" data-flag-title="野生程序员的故事">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本文摘自：《Web全栈工程师的自我修养》</p>
<p>原文地址：<a href="http://geek.csdn.net/news/detail/38743" target="_blank" rel="external">http://geek.csdn.net/news/detail/38743</a></p>
<p>野生程序员是指仅凭对计算机开发的兴趣进入这个行业，从前端到后台一手包揽，但各方面能力都不精通的人。野生程序员有很强大的单兵作战能力，但是在编入“正规军”之后，可能会不适应新的做事方法。</p>
<h1 id="遭遇“野生程序员”"><a href="#遭遇“野生程序员”" class="headerlink" title="遭遇“野生程序员”"></a>遭遇“野生程序员”</h1><p>腾讯公司内部的团队很多，在团队管理上有项目和专业两个维度。也就是说，有些团队是项目维度的，整个团队共同维护一个产品，成员来自不同的职业岗位；有些团队是专业维度的，比如一个组都是前端工程师，维护不同的产品。</p>
<p>因为前端组是设计部最接近后台技术的团队，所以团队平时的工作和技术交流分享，都不局限于前端技术领域，还包括很多服务器端或者移动端的技术。从前端到后端，一些技术问题都要我们自己来解决。</p>
<p>在招聘前端工程师的时候，我们对应聘者的要求是，在掌握基本前端技术的前提下，最好有更为全面的技术。这样，即使我们的项目人力结构、平台和方向发生变化的时候，他也能够更加灵活地转移到其他角色中。而且技术的全面更能表现一个人对技术的热情以及较强的学习能力。从团队多样性来讲，多一些技术种类的话，大家在一起也能碰撞出新的火花。</p>
<p>有一次，我在QQ群发布了一条简单的信息：“招聘前端工程师，全栈更佳。”随后有一个“全栈工程师”A君向我自荐。</p>
<p>我仔细看了他的简历：“三年工作经验，擅长PHP、MySQL数据库、jQuery、HTML和CSS，对CDN加速和网络安全也颇有研究。”他的简历让我眼前一亮，于是我跟他进行了一次简单的电话面试。</p>
<p>电话面试的第一个环节照例是让A君简短地介绍自己。A君在一个传统行业的小公司做IT技术支持工作，公司的3个网站项目都是他一手搭建，从架构到编码细节他都如数家珍。他号称能解决一切技术问题，老板提出的所有需求都能完成，而且只有他能完成。随着最近公司业务量越来越大，他还招了两个下属，但是主要的编程工作还是他在做。</p>
<p>我问他：“我们的职位是前端工程师，那么您有哪些前端方面的技能呢？”他回答：“我擅长HTML、CSS和JavaScript。”</p>
<p>“对于Web性能优化，您有哪些了解和经验吗？”他思索了一阵答道：“我们在发布项目之前压缩CSS和JavaScript源代码，这样文件体积就变小了，用户加载必要资源所花的时间也就更短了。”我继续说道，很好，还有吗？他想了半天，答不上来了。</p>
<p>其实关于Web性能优化，有非常多的方面可以去做，我希望应聘者能尽量多回答一些。</p>
<ul>
<li>压缩源码和图片<br>JavaScript文件源代码可以采用混淆压缩的方式，CSS文件源代码进行普通压缩，JPG图片可以根据具体质量来压缩为50%到70%，PNG可以使用一些开源压缩软件来压缩，比如24色变成8色、去掉一些PNG格式信息等。</li>
</ul>
<p>选择合适的图片格式<br>如果图片颜色数较多就使用JPG格式，如果图片颜色数较少就使用PNG格式，如果能够通过服务器端判断浏览器支持WebP，那么就使用WebP格式和SVG格式。</p>
<ul>
<li><p>合并静态资源<br>包括CSS、JavaScript和小图片，减少HTTP请求。</p>
</li>
<li><p>开启服务器端的Gzip压缩<br>这对文本资源非常有效，对图片资源则没那么大的压缩比率。</p>
</li>
<li><p>使用CDN<br>或者一些公开库使用第三方提供的静态资源地址（比如jQuery、normalize.css）。一方面增加并发下载量，另一方面能够和其他网站共享缓存。</p>
</li>
<li><p>延长静态资源缓存时间<br>这样，频繁访问网站的访客就能够更快地访问。不过，这里要通过修改文件名的方式，确保在资源更新的时候，用户会拉取到最新的内容。</p>
</li>
<li><p>把CSS放在页面头部，把JavaScript放在页面底部<br>这样就不会阻塞页面渲染，让页面出现长时间的空白。</p>
</li>
</ul>
<p>每一个条目都可以进一步深层挖掘下去。</p>
<p>Web性能优化分为服务器端和浏览器端两个方面。</p>
<p>此外，由于中文的歧义性，Web性能优化这个词既可以解读成页面加载速度（Page Speed）的优化，也可以解读成页面渲染性能（Page Performance）的优化。或者是二者的集合。所以，应聘者如果能在这个问题上多做一些分析，会有很高的加分。但是A君在网络性能方面的研究只是浅尝辄止，停留在压缩资源方面，这说明他还没有足够理解HTTP协议本身。</p>
<p>关于网络性能和HTTP协议，作为大公司的前端工程师是非常看重的，因为每一个页面都会有亿万用户访问量，任何一点对服务器带宽压力都会积少成多，最终造成很大的成本。关于这方面的技术详解，我在后面会有一篇单独的文章来分析。</p>
<p>接着上面的故事，我想既然他对Web性能优化方面不太熟悉，可能他是一个偏后台的程序员，因而就又问道：“关于服务器端MVC架构的技术实现，您是怎样理解的？”他说：“是数据模型、视图、控制器的分离。”</p>
<p>我更进一步问道：“这种架构方式有什么好处？您在项目中是如何应用这一架构的？”他回答说：“MVC的架构方式会让项目可维护性更高，所有涉及界面的代码都在视图（View）里面，所有涉及核心逻辑的代码都在模型（Model）里面，URL路由之类的代码都在控制器（Controller）里面。我在项目中使用了MVC架构的PHP框架——CodeIgniter。”</p>
<p>我一边打开他的网站，一边继续跟他电话沟通。当看到网站的CSS代码都直接内嵌在HTML头部的时候，我忍不住问他：“为什么您的网站的CSS代码都内嵌在HTML里面呢，是使用自动化工具合并进去的吗？”他支支吾吾地说：“因为在本地调试的时候，CSS文件修改经常不生效，所以就直接在HTML里面改了，这样比较快。”</p>
<p>好吧，我想这是一个典型的“知易行难”的开发者，他知道采用MVC架构的项目的可维护性更高，可是在分离样式与结构上面还没有达到最基本的要求，甚至把CSS写在HTML中。至于他说的在本地环境上发现CSS文件经常缓存，可能要看看本地服务器的缓存设置是否有问题，然后再做调试。稍微了解一点HTTP的浏览器端缓存，这就不是难事了。我更欣赏在开发流程上花工夫去理解和优化的应聘者，而不是马马虎虎，只是以完成需求为目标的人。</p>
<p>我突然想到他说的“所有需求他都能完成，且只有他能完成”，于是就想问问他代码版本管理方面的问题。我说：“您们团队现在加入了两个新人，那么您们如何进行代码版本管理？”他回答：“我们有一台测试服务器，用FTP来测试代码，如果在测试机上没有问题的话，我们就会发布到生产环境。”</p>
<p>我说：“等等，我不是问您们代码部署的问题，是平时您们如何管理代码版本，如何分工协作的？”他说：“我们把代码从测试服务器上拷下来，修改完了之后再传上去。”</p>
<p>到这里，我终于明白为什么他们团队的新人无法快速融入项目了，因为项目没有使用SVN或者Git这样的版本管理工具。团队只有一个人在写代码的时候，缺乏版本管理工具的问题可能还不会暴露出来，但是当更多成员加入时，整个项目就会寸步难行，大家都要花大量的时间合并代码，以及找回丢失的代码。万一出现了外网bug，版本工具也能帮我们把站点状态快速恢复到之前的时间点。在本书的后面章节，我会详细介绍版本管理工具。</p>
<p>最后我抱着几乎绝望的心情，问了下关系数据库设计原则方面的问题，他的回答也不是很理想。</p>
<p>我知道，我又遭遇了“野生程序员”。</p>
<h1 id="什么是“野生程序员”"><a href="#什么是“野生程序员”" class="headerlink" title="什么是“野生程序员”"></a>什么是“野生程序员”</h1><p>所谓“野生程序员”，就是没有计算机基础知识和相关教育经历，靠着对计算机开发的兴趣进入这个行业，虽然知识面比较广，但是各方面都一知半解的开发者。</p>
<p>这几年我从一个求职者，转变成一个招聘者，有一个感受就是，中国高等教育与市场需求不接轨。学校不了解市场究竟需要什么样的人才，其设立的课程和技术往往比市场技术现状落后了5年以上。我在大学学习用ASP建站，但是现在已经几乎没有人用ASP建站了。一个直接的后果是，很多高校毕业生不能满足企业的要求。</p>
<p>与此同时，中国互联网市场蓬勃发展，特别是移动互联网的发力，让中国跳过“WAP时代”，直接进入“App时代”。市场的热钱都投入到互联网行业，“BAT”等大公司不断扩张，创业公司也如雨后春笋，整个市场对软件工程师的需求缺口巨大，所以很多公司在招人的时候，没法招聘到“专业”的计算机专业毕业生。</p>
<p>在美国，因为教育与市场稳定发展了很多年，供求关系相对平衡，计算机相关专业本科已经成为基本要求。举例而言，美国的硅谷公司（如Google）绝大部分前端开发招聘岗位都有一个最低要求——本科学历，计算机相关专业。</p>
<p>相比而言，从中国的大公司（如腾讯）的招聘网站上可以看出，有一些前端开发岗位没有对学历的要求，也有一些要求“本科及以上学历”，少数才会要求“本科学历，计算机相关专业”。我们的团队中就有一些成员是大专学历。许多企业在招聘的时候往往放松了对学历的要求，只看重项目和经验，而不看重学历。这是一件好事，代表市场在高等教育的规模和质量都跟不上市场要求的情况下，给予更多有兴趣和能力的年轻人进入IT领域的机会，也填补了人才市场的空缺。</p>
<p>美国硅谷，是世界互联网公司的中心，是所有求职者梦寐以求的圣地。在最开始，硅谷之所以名字当中有一个“硅”字，是因为当地企业多数是从事加工制造高浓度硅的半导体行业和电脑工业。随后，互联网公司和软件公司渐渐取代传统的硬件公司，让硅谷获得了新的生命，但硅谷这个名字保留了下来。在硅谷从诞生到发展壮大的整个生命周期中，斯坦福大学起到了很大的作用，我认为称之为硅谷的母亲也不为过。</p>
<p>在中国，由于政策、环境、历史原因，还有大学教育投入上的差异，导致大学在整个互联网发展中起的作用没那么大。中美两国IT人才市场供求关系上的这些差别，也反映在整个行业文化中。</p>
<p>一个直观的反映就是软件工程师的“草根”化。其实很多软件工程师的收入都很高，处于中上层水平，相比金融行业的白领也毫不逊色，但是一谈起程序员，大家的印象还是“一年四季的T恤（在行业展会上免费拿的）牛仔裤，平时也喜欢宅在家里，不会像同样收入的金融白领，平时爱好听歌剧打高尔夫球”。这种差异一方面是外部人士对软件工程师职业的偏见，另一方面也是程序员行业的自黑习惯。在招聘时岗位要求就已经放到最低：不要求学历、上班不要求着装、上下班时间灵活，这样才好更方便地招聘。而金融行业有意识地塑造一种“精英”文化，从学历就设置高门槛，即使有些工作根本不需要那么高的学历。</p>
<p>回到毕业生的话题，很多跨专业的学生发现自己兴趣在互联网和计算机方向的时候，就开始了自学之路，基本上学习方式有这样几种。</p>
<ul>
<li><p>书：在计算机图书领域，技术难度跟图书销量是成反比的，从标签教起的HTML/CSS基础书籍卖得最好，其次是关于JavaScript和jQuery的书，Angular和Node.js之类的就没那么畅销了。</p>
</li>
<li><p>互联网：得益于全世界都在互联网上共享的资源，现在的学习者有了更多的选择，比如关于Web开发基础教学的W3CSchool，还有海量的技术博客。我个人喜欢订阅一些英文大站，比如Smashing Magazine（<a href="http://www.smashingmagazine.com/）、tuts+（http://tutsplus.com/）等。我在读大学的时候，Google" target="_blank" rel="external">http://www.smashingmagazine.com/）、tuts+（http://tutsplus.com/）等。我在读大学的时候，Google</a> Reader还没有永久关闭，那时候我很喜欢用RSS来关注这些站点的更新情况。Google Reader下线后，就基本上废弃了RSS阅读的习惯，转而用一些社交网站来追踪更新情况，但是有时还是会淹没在大量无用的信息里面。</p>
</li>
<li><p>社团：学校的网站社团也孕育了许多能力很强的开发者，社团经过历届的传帮带，技术有所积累，比如师兄会教师弟用Sublime编辑器，这就比还在用Dreamweaver的同学更有优势。此外，学校社团有一些定点客户，比如学校教务处、周边商户，所以有更多的实战经验，在毕业时作品集也丰富了不少。</p>
</li>
</ul>
<p>因为有这样一些自学渠道，所以不一定只有计算机专业毕业的学生才有机会进入互联网行业。毕业之后，这些计算机爱好者进入不同的工作岗位，不同的是，有些进入大公司，有些进入小公司。这两者的成长轨迹往往会不太一样。</p>
<h2 id="小公司有很多野生程序员"><a href="#小公司有很多野生程序员" class="headerlink" title="小公司有很多野生程序员"></a>小公司有很多野生程序员</h2><p>流水线工作流程有诸多优点，但一般来说，大公司才需要很多专精某种技术的工程师，组成一个Web开发团队。创业公司只需要几个技术全面的人来做开发和技术支持，有时候甚至只有一两个人而已。</p>
<p>当然，最主要的原因就是成本和回报的问题。招聘和维持庞大的IT研发团队需要一笔不小的开支，小公司并没有那么多Web服务的需求，一般企业可能只需要一个公司站点就可以了，现在甚至完全不需要Web站点，可以用微信公共账号或者淘宝这样的大平台来完成。如果招聘一个完整的Web研发团队，从用户研究到交互设计、从App开发到数据库管理，直接后果就是整个团队大部分时间都空闲着，无事可做。与之相比，聘请一个或多个全栈工程师会更高效、更省钱。</p>
<p>第二个原因是，很多传统线下公司并不会特别依赖IT技术，有些时候线下渠道占据了公司大部分收入来源，所以公司不需要架设十分完善的线上服务。由于线上服务的用户量少，所以Web服务对稳定性、承受压力、用户体验的要求都没有那么高。此外，由于没有太多重要的用户数据，所以异地容灾也不需要。</p>
<p>因为公司的开发团队小，所以网站无论出现什么问题，都需要他们去解决。从域名到服务器，从前端到后台，从设计到内容，都是一人包揽。野生程序员了解的知识越来越多，但是样样都不精通。我认识几个小公司的程序员，他们没有明确的职称，开发者都统称为程序员，设计师都统称为美工。</p>
<p>在Web技术的任何方向，比如前端开发或者服务器端开发，他们既没有很强的经验，也没有明确的兴趣。那么当他想跳槽到大公司的时候，会发现大公司对岗位和职责的细分非常明确，而自己的能力达不到某个细分岗位的要求。所以他们很难在专业上继续进步，从而陷入原地踏步的窘境。</p>
<h1 id="大公司还是创业公司"><a href="#大公司还是创业公司" class="headerlink" title="大公司还是创业公司"></a>大公司还是创业公司</h1><p>在许多论坛上，常常会看到毕业生提出这样的问题：现在有一个大公司和一个创业公司的机会摆在我面前，我应该选择哪一个？其实每个人有不同的想法、不同的风险偏好，旁人没办法针对这个宽泛的问题给出标准的答案。但是既然提问者是毕业生，这种情况下我还是建议选择大公司，因为会选择创业公司的人往往有自己的主见，已经接受创业公司的邀请去工作了，不会去发帖询问大家的意见。当然这是开玩笑，真正的原因是，在大公司的头两年，是从学生到职场人士的一个转变，您可能会从大平台学习到一些规范的流程方法，养成一些足以影响您一生的习惯，认识更多的能对您职场有帮助的人脉。</p>
<h2 id="大公司能给您的"><a href="#大公司能给您的" class="headerlink" title="大公司能给您的"></a>大公司能给您的</h2><ul>
<li><p>较小的风险<br>每个公司都有倒闭的可能，但是，显然大公司比小公司的风险低多了。如果您的风险承受能力较低，那么不得不考虑这个因素。</p>
</li>
<li><p>技术最佳实践<br>在大公司，对代码质量和一致性的要求很高，所以一般在最终发布前会有代码审查（Code Review）流程和项目总结会等。如果您完成了一个任务，但是没有采用最佳实践，只是hack{![所谓hack，就是不优雅的解决方案。比如一个界面的调整，如果采用最佳实践，需要用MVC架构来分离出界面相关的代码，并且把有可能相关的变量提取出来，合理命名并且放在合理的位置。如果是hack，可能就不管这么多，看见哪里需要修改就原地修改了，表面上看很快解决了问题，可是这会给后面跟进的同事造成很大的困扰。]}了一下，那么其他同事可能都会指出您的问题，并且要求您改正之后再提交。小公司或者创业公司人力比较紧张，在他们看来，快速实现和上线，比优雅地上线更重要，所以对于一些最佳实践类的问题，只能睁一只眼闭一只眼啦。</p>
</li>
<li><p>垂直专精的技能<br>大公司专业分工很细，而且有更多技术沟通和沉淀的氛围，所以容易让人在垂直专精的技术方向有足够的发展。在小公司更能锻炼技术的广度，深度上缺乏锻炼的环境。但是其实二者的利弊，都是外界的，技术人员的个人成长除了工作时间的锻炼，还要靠下班后的时间，外界只是给予一个环境或者机会。</p>
</li>
<li><p>服务海量用户的经验<br>同样是做一个网站，服务少数用户量和服务海量用户量时需要考虑的事情是完全不同的。小网站遇到的问题，大网站一定遇到过，而大网站遇到的问题，小网站就不一定遇到过了。当一个网站发展到业内最强时，它的问题没有人遇到过，这时候就不能凡事问百度、Google或Stack Overflow了，而要自己去探索解决方案。</p>
</li>
<li><p>软技能<br>硬技能是指每个职位需要的专业技能，软技能则是通用的技能，比如沟通、影响力、项目管理和演讲等。越是大公司，越是看重影响力，所以会有很多培训教您如何提高影响力。</p>
</li>
</ul>
<p>我在面试一些来自小公司的应聘者时，就发现他平时的工作中，周边环境很少有分享和沉淀的习惯。沉淀和总结是很重要的，在腾讯，设计师做完一次设计定稿之后，就会把设计的思路，包括整体的设计风格、设计规范和色彩的确定等都总结成一封邮件或者PPT，发送给部门同事。每个人都要有意识地维护自己的作品集，它在半年一次的考核、晋升面试甚至以后的跳槽中都非常有用。但是小公司的设计师不太会总结个人作品集，时间紧急是一方面原因，另一个主要原因是环境不需要他这样做，因此就缺乏了这方面的锻炼。</p>
<ul>
<li><p>人脉<br>每年都有不少人从大公司离职去创业，这是非常自然的事情。对于大公司出来的人来说，之前积累的人脉资源这时候会起到很大的作用，比如创业期间的一些合作机会或者资源的互利，等等。万一创业失败，也不会很惨，因为您之前接触的人脉可以给您提供工作机会。但如果您刚毕业就选择创业，创业失败之后没有人能给您提供工作机会。</p>
</li>
<li><p>心态<br>其实大公司能给予毕业生最大的优势，就是提供一个心智培育的土壤。之前参加面试官培训的时候，我大概了解过公司招聘一个毕业生投入的成本。从校园招聘，到安排面试官面试候选人，再到封闭培训和一些课程培训，再给一段时间熟悉项目，最后3个月试用期后可能还要淘汰掉一些。如果把成本平摊到每一个人身上，这些投入要一年才能收回来。而小公司不会有这么大的耐心去培育一个新人。如果没有足够的时间去学习和成长，可能在一两年后，员工的能力也比较全面，但是样样都不精通，也说不清楚自己的目标是什么，于是就变成了“野生程序员”。</p>
</li>
</ul>
<p>综合来讲，在大公司中，从硬技能到软技能都会有很多经验丰富的前辈能够教您，您会在大平台上学习到很多东西。工作几年之后，员工的选择也很多，要么走技术路线继续发展下去，做高级工程师；要么学习管理和领导力；要么出去创业。</p>
<p>所以，我的个人建议是，<em>*从毕业生自己前途发展的角度来看，先加入一家上市大公司是个不错的选择</em>å。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/13/文档生成器 Xcode与Appledoc/" itemprop="url">
                  文档生成器 Xcode与Appledoc
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-13T16:33:00+08:00" content="2015-10-13">
              2015-10-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/10/13/文档生成器 Xcode与Appledoc/" class="leancloud_visitors" data-flag-title="文档生成器 Xcode与Appledoc">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a><strong>目录</strong></h1><p>[TOC]</p>
<p>博主是不写注释会死星人，以前 java 的时候常用 javadoc ，只要写好注释，然后用 javadoc 生成html 格式的文档。用eclipse和myeclipse都能挂上去。<br>最近的iOS项目是一个十几个人一起写的项目，很多都初学者，我写主要框架这一块。uml和编码都搞定了，但是为了协作给他人使用，需要一份文档。<br>除了word和markdown写的reference，api文档也是必不可少的。<br>所以就开始捣鼓appledoc。在中间遇到不少问题，最后成功的解决了，所以特意分享给大家。</p>
<h1 id="安装Appledoc"><a href="#安装Appledoc" class="headerlink" title="安装Appledoc"></a><strong>安装Appledoc</strong></h1><p><strong>Appledoc的github地址：</strong><a href="https://github.com/tomaz/appledoc" target="_blank" rel="external">https://github.com/tomaz/appledoc</a></p>
<p>其实不用下载的，在github项目的readme中已经写了安装方法：</p>
<h2 id="快速安装"><a href="#快速安装" class="headerlink" title="快速安装"></a><strong>快速安装</strong></h2><p>打开终端，输入： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone git://github.com/tomaz/appledoc.git</div></pre></td></tr></table></figure>
<p>等待完成后继续输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo sh install-appledoc.sh</div></pre></td></tr></table></figure>
<p>等待安装完成。如果出现错误，参考后面的错误解决<br><br></p>
<h2 id="brew安装"><a href="#brew安装" class="headerlink" title="brew安装"></a><strong>brew安装</strong></h2><p>如果你装了brew，Appledoc官方文档写的是打开终端输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install appledoc</div></pre></td></tr></table></figure>
<p><hr></p>
<h2 id="错误解决"><a href="#错误解决" class="headerlink" title="错误解决"></a><strong>错误解决</strong></h2><p>我试了使用brew安装，然而显示错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Error: No available formula for appledoc </div><div class="line">==&gt; Searching formulae...</div><div class="line">==&gt; Searching taps...</div></pre></td></tr></table></figure>
<p>这个问题让我查了很多资料都没解决，最后发现可能是新版的brew不能这样安装Appledoc（是我的猜测）。</p>
<p>所以决定使用<strong>快速安装</strong>。<br>要注意的是，使用快速安装要<strong>保证<code>/usr/local/bin</code>路径要存在</strong>。如果没有，一定要手动创建相应的文件夹，并且保证bin文件夹是可读可写的（可以在文件夹的『显示简介』里更改）</p>
<p><img src="http://img.blog.csdn.net/20151013153313995" alt="设置/usr/local/bin文件夹可读可写"></p>
<p>然后就可以放心按照上面『快速安装』安装了，不会出现问题。</p>
<hr>
<h1 id="Appledoc使用"><a href="#Appledoc使用" class="headerlink" title="Appledoc使用"></a><strong>Appledoc使用</strong></h1><p>##<strong>在xcode里使用</strong><br>网上找的很多资料都是在很老版本的xcode中使用appledoc的方法，博主用的是xcode6和xcode7。<br>首先点击file-&gt;new-&gt;target</p>
<p><img src="http://img.blog.csdn.net/20151013155112543" alt="这里写图片描述"></p>
<p>然后在弹出的界面中选择Aggregate</p>
<p><img src="http://img.blog.csdn.net/20151013155205606" alt="这里写图片描述"></p>
<p>填写好名字</p>
<p><img src="http://img.blog.csdn.net/20151013155748077" alt="这里写图片描述"></p>
<p>这样就添加好了一个Target<br>然后会弹出一个界面，不同版本长得略有不同<br>总之选择Build Phases，点击左边的小加号</p>
<p><img src="http://img.blog.csdn.net/20151013160016656" alt="这里写图片描述"></p>
<p>选择New Run Script Phase</p>
<p><img src="http://img.blog.csdn.net/20151013160128085" alt="这里写图片描述"></p>
<p>建好了以后打开刚刚建立的Run Script</p>
<p><img src="http://img.blog.csdn.net/20151013160235052" alt="这里写图片描述"></p>
<p>把红框的地方里面替换成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">#appledoc Xcode script</div><div class="line"># Start constants</div><div class="line">company=&quot;ACME&quot;;</div><div class="line">companyID=&quot;com.ACME&quot;;</div><div class="line">companyURL=&quot;http://ACME.com&quot;;</div><div class="line">target=&quot;iphoneos&quot;;</div><div class="line">#target=&quot;macosx&quot;;</div><div class="line">outputPath=&quot;~/help&quot;;</div><div class="line"># End constants</div><div class="line"></div><div class="line">/usr/local/bin/appledoc \</div><div class="line">--project-name &quot;$&#123;PROJECT_NAME&#125;&quot; \</div><div class="line">--project-company &quot;$&#123;company&#125;&quot; \</div><div class="line">--company-id &quot;$&#123;companyID&#125;&quot; \</div><div class="line">--docset-atom-filename &quot;$&#123;company&#125;.atom&quot; \</div><div class="line">--docset-feed-url &quot;$&#123;companyURL&#125;/$&#123;company&#125;/%DOCSETATOMFILENAME&quot; \</div><div class="line">--docset-package-url &quot;$&#123;companyURL&#125;/$&#123;company&#125;/%DOCSETPACKAGEFILENAME&quot; \</div><div class="line">--docset-fallback-url &quot;$&#123;companyURL&#125;/$&#123;company&#125;&quot; \</div><div class="line">--output &quot;$&#123;outputPath&#125;&quot; \</div><div class="line">--publish-docset \</div><div class="line">--docset-platform-family &quot;$&#123;target&#125;&quot; \</div><div class="line">--logformat xcode \</div><div class="line">--keep-intermediate-files \</div><div class="line">--no-repeat-first-par \</div><div class="line">--no-warn-invalid-crossref \</div><div class="line">--exit-threshold 2 \</div><div class="line">&quot;$&#123;PROJECT_DIR&#125;&quot;</div></pre></td></tr></table></figure>
<p>然后点左上角的项目，发现多了一个Document<br><img src="http://img.blog.csdn.net/20151013160702336" alt="这里写图片描述"><br><img src="http://img.blog.csdn.net/20151013160717721" alt="这里写图片描述"></p>
<p>点Document，然后再运行，只要没报错就OK了<br>文档已经编译好并且自动安装进Xcode了。重启xcode，打开documentation。就会发现里面有你刚刚生成的文档。<br><img src="http://img.blog.csdn.net/20151013161028665" alt="这里写图片描述"></p>
<p>如果你想直接看html</p>
<p>可以用Finder进入<code>~/Library/Developer/Shared/Documentation/DocSets</code><br>看到你的文档以后可以右键查看包内容，就可以拿到里面的Html文档了</p>
<h3 id="终端使用"><a href="#终端使用" class="headerlink" title="终端使用"></a><strong>终端使用</strong></h3><p><strong>博主还没有试过，可以先尝试上面的方法</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">appledoc --project-name test     </div><div class="line">         --project-company &quot;test&quot;   </div><div class="line">         --company-id com.test    </div><div class="line">         --output /Users/zhoulingyu/Desktop</div><div class="line">         /Users/zhoulingyu/Desktop/Test/Classes</div></pre></td></tr></table></figure></p>
<p>从上到下分别代表的是：</p>
<ol>
<li>工程名称</li>
<li>公司名称</li>
<li>工程ID</li>
<li>生成结果输出路径</li>
<li>扫描哪个路径下的类.</li>
</ol>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#x6d;&#97;&#105;&#x6c;&#116;&#111;&#58;&#x63;&#x6f;&#x64;&#101;&#114;&#102;&#x69;&#x73;&#104;&#x40;&#x31;&#x36;&#x33;&#x2e;&#x63;&#111;&#109;">&#x63;&#x6f;&#x64;&#101;&#114;&#102;&#x69;&#x73;&#104;&#x40;&#x31;&#x36;&#x33;&#x2e;&#x63;&#111;&#109;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/25/iOS学习——Notification通知机制/" itemprop="url">
                  iOS学习——Notification通知机制
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-09-25T20:37:00+08:00" content="2015-09-25">
              2015-09-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/09/25/iOS学习——Notification通知机制/" class="leancloud_visitors" data-flag-title="iOS学习——Notification通知机制">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="iOS中的事件有哪几种"><a href="#iOS中的事件有哪几种" class="headerlink" title="iOS中的事件有哪几种"></a><strong>iOS中的事件有哪几种</strong></h2><p>iOS的事件机制一共三种分别是</p>
<ol>
<li>addTarget方式</li>
<li>delegate代理方式</li>
<li>Notification通知机制</li>
</ol>
<hr>
<h2 id="通知机制的原理"><a href="#通知机制的原理" class="headerlink" title="通知机制的原理"></a><strong>通知机制的原理</strong></h2><ol>
<li>iOS的通知分为通知发布者和通知监听者，通知将会放在<strong><code>NSNotificationCenter</code></strong>中。</li>
<li>通知发布者发布带有信息（或者不带有信息）的通知，放置到<strong><code>NSNotificationCenter</code></strong>中。</li>
<li>通知监听者可以选择需要监听的对象。</li>
<li>要注意的是，在编码中是先放置监听者，再放置通知发布者。保证通知发布时已经有监听者在监听。</li>
</ol>
<hr>
<h2 id="通知机制的实现"><a href="#通知机制的实现" class="headerlink" title="通知机制的实现"></a><strong>通知机制的实现</strong></h2><p>相信你看了下面的代码一定能理解，博主把能打上的注释全部打上了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  main.m</div><div class="line">//  day34_通知</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/9/3.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line">#import &quot;NotificationListener.h&quot;</div><div class="line">#import &quot;NotificationSender.h&quot;</div><div class="line"></div><div class="line">int main(int argc, const char * argv[]) &#123;</div><div class="line">    @autoreleasepool &#123;</div><div class="line">        // 实例化一个通知发布者</div><div class="line">        NotificationSender *sender1 = [[NotificationSender alloc] init];</div><div class="line">        // 实例化一个通知监听者</div><div class="line">        NotificationListener *listener1 = [[NotificationListener alloc] init];</div><div class="line">        </div><div class="line">        // 1.获取NSnotificationCenter对象</div><div class="line">        NSNotificationCenter *notificationCenter = [NSNotificationCenter defaultCenter];</div><div class="line">        </div><div class="line">        // 2.先监听</div><div class="line">        // 参数1：要监听通知的对象</div><div class="line">        // 参数2：该对象的哪个方法监听</div><div class="line">        // 参数3：被监听的通知的名称</div><div class="line">        // 参数4：发布通知的对象</div><div class="line">        // 如果参数3为nil，表示参数4指定的对象发布的所有通知都会被参数2指定的方法监听</div><div class="line">        // 如果参数4为nil，表示无论哪个给对象，只要发布的通知名称与参数3相同，都会被监听</div><div class="line">        // 如果参数3、4都为nil 那么所有对象发布的所有通知都会被监听</div><div class="line">        [notificationCenter addObserver:listener1 selector:@selector(listen:) name:@&quot;通知1&quot; object:sender1];</div><div class="line">        </div><div class="line">        // 3.向通知中心发布通知</div><div class="line">        [notificationCenter postNotificationName:@&quot;通知1&quot; object:sender1 userInfo:@&#123;@&quot;title&quot; : @&quot;阅兵&quot;, @&quot;content&quot; : @&quot;阅兵将在9点开始&quot;&#125;];</div><div class="line">        </div><div class="line">        // 4.移除通知，在监听者的dealloc中移除</div><div class="line">        </div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  NotificationSender.h</div><div class="line">//  day34_通知</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/9/3.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  通知发布者</div><div class="line"> */</div><div class="line">@interface NotificationSender : NSObject</div><div class="line"></div><div class="line">/**</div><div class="line"> *  通知发布者名称</div><div class="line"> */</div><div class="line">@property (nonatomic, copy) NSString *name;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  NotificationSender.m</div><div class="line">//  day34_通知</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/9/3.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &quot;NotificationSender.h&quot;</div><div class="line"></div><div class="line">@implementation NotificationSender</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  NotificationListener.h</div><div class="line">//  day34_通知</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/9/3.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  通知监听者</div><div class="line"> */</div><div class="line">@interface NotificationListener : NSObject</div><div class="line"></div><div class="line">/**</div><div class="line"> *  通知监听者名称</div><div class="line"> */</div><div class="line">@property (nonatomic, copy) NSString *name;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  监听方法</div><div class="line"> */</div><div class="line">- (void)listen:(NSNotification *)noteInfo;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  NotificationListener.m</div><div class="line">//  day34_通知</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/9/3.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &quot;NotificationListener.h&quot;</div><div class="line"></div><div class="line">@implementation NotificationListener</div><div class="line"></div><div class="line">- (void)listen:(NSNotification *)noteInfo &#123;</div><div class="line">    NSLog(@&quot;监听到&quot;);</div><div class="line">    NSLog(@&quot;%@&quot;,noteInfo);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)dealloc &#123;</div><div class="line">    // 移除监听</div><div class="line">    // 在dealloc中移除可以确保监听者被销毁时能够移除监听</div><div class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self];</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a><strong>源码</strong></h2><p>博主也上传了一份源码<a href="http://download.csdn.net/detail/u010127917/9139983" target="_blank" rel="external">http://download.csdn.net/detail/u010127917/9139983</a><br>希望同样在学习的同学能和小鱼一起进步~</p>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#x6d;&#x61;&#105;&#108;&#x74;&#111;&#58;&#x63;&#111;&#x64;&#101;&#114;&#102;&#x69;&#x73;&#104;&#64;&#49;&#54;&#51;&#x2e;&#x63;&#111;&#x6d;">&#x63;&#111;&#x64;&#101;&#114;&#102;&#x69;&#x73;&#104;&#64;&#49;&#54;&#51;&#x2e;&#x63;&#111;&#x6d;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/24/iOS学习——ScrollView图片轮播和同类控件优先级问题/" itemprop="url">
                  iOS学习——ScrollView图片轮播和同类控件优先级问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-24T18:13:00+08:00" content="2015-08-24">
              2015-08-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/08/24/iOS学习——ScrollView图片轮播和同类控件优先级问题/" class="leancloud_visitors" data-flag-title="iOS学习——ScrollView图片轮播和同类控件优先级问题">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-布置界面"><a href="#1-布置界面" class="headerlink" title="1. 布置界面"></a>1. 布置界面</h2><p>ScrollView的使用非常简单，只有三步<br>  1.1    添加一个scrollview<br>  1.2    向scrollview添加内容<br>  1.3    告诉scrollview中内容的实际大小</p>
<p>首先做第一步，布置界面。<br>拖拽一个scrollview就可以了<br><img src="http://img.blog.csdn.net/20150824172017044" alt="拖拽一个scrollview"><br>就这么简单</p>
<hr>
<h2 id="2-添加内容，并告诉scrollview中内容的实际大小"><a href="#2-添加内容，并告诉scrollview中内容的实际大小" class="headerlink" title="2. 添加内容，并告诉scrollview中内容的实际大小"></a>2. 添加内容，并告诉scrollview中内容的实际大小</h2><p>先给scrollview拖线至viewController的.m文件类扩展中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property (weak, nonatomic) IBOutlet UIScrollView *scrollView;</div></pre></td></tr></table></figure>
<p>再要给scrollview设置代理，让代理处理相应的事件、设置相应的数据。设置代理的方法有两种：拖线和代码设置。</p>
<p>拖线：<br><img src="http://img.blog.csdn.net/20150824172605867" alt="拖线设置代理"></p>
<p>代码设置，在<code>viewDidLoad</code>方法中设置scrollview的代理为控制器本身。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">self.scrollView.delegate = self;</div></pre></td></tr></table></figure>
<p>注意，把控制器设为代理需要实现相应代理的接口：<br><img src="http://img.blog.csdn.net/20150824172909552" alt="实现相应代理的接口"></p>
<p>现在开始添加内容，向Images.xcassets放入要用的五张图片素材，因为博主做的5张图是白色背景，为了能看清，只能把控制器背景调成其他颜色。<br><img src="http://img.blog.csdn.net/20150824173801758" alt="素材"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    // 动态创建UIImageView添加到滚动控件</div><div class="line">    CGFloat imgW = 340;</div><div class="line">    CGFloat imgH = 150;</div><div class="line">    CGFloat imgY = 0;</div><div class="line">    CGFloat imgX;</div><div class="line">    // 加入五张图片</div><div class="line">    for (int i = 0; i &lt; 5; i++) &#123;</div><div class="line">        UIImageView *imgView = [[UIImageView alloc] init];</div><div class="line">        // 计算每张图的x值</div><div class="line">        imgView.image = [UIImage imageNamed:[NSString stringWithFormat:@&quot;%d&quot;, i + 1]];</div><div class="line">        imgX = i * imgW;</div><div class="line">        imgView.frame = CGRectMake(imgX, imgY, imgW, imgH);</div><div class="line">        [self.scrollView addSubview:imgView];</div><div class="line">    &#125;</div><div class="line">    // 设置滚动控件内容大小</div><div class="line">    self.scrollView.contentSize = CGSizeMake(5 * self.scrollView.frame.size.width, 150);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>解释为什么要计算每张图片的x轴：<br>图片实际上是这样摆放的：<br><img src="http://img.blog.csdn.net/20150824174737294" alt="这里写图片描述"><br>橘色的是scrollView，每张图片和scrollView长宽一样大，所以只能看到一张图片，五张图片并排放置，这样滚动scrollView时候就能浏览后面的图片，实现滚动效果。</p>
<p>如果不希望有滚动指示器，就是滚动条，可以加入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 设置滚动指示器不可见</div><div class="line">self.scrollView.showsHorizontalScrollIndicator = NO;</div><div class="line">self.scrollView.showsVerticalScrollIndicator = NO;</div></pre></td></tr></table></figure>
<p>这时运行后发现可以滚动，但是图片可以滚动到任何位置<br><a href="http://i1.tietuku.com/e149d03ede7b0f30.jpg" title="点击显示原始图片" target="_blank" rel="external"><img src="http://i1.tietuku.com/e149d03ede7b0f30t.jpg"></a><br>如果希望能够像平常淘宝看到的图片轮播，轻轻划一下，可以完整的翻到下一张图片，可以加入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 实现分页效果，原理是根据滚动控件的宽度，一个宽度是一页</div><div class="line">self.scrollView.pagingEnabled = YES;</div></pre></td></tr></table></figure>
<p><a href="http://i1.tietuku.com/fa374a4a1ad8d16b.jpg" title="点击显示原始图片" target="_blank" rel="external"><img src="http://i1.tietuku.com/fa374a4a1ad8d16bt.jpg"></a></p>
<hr>
<h2 id="3-设置自动轮播"><a href="#3-设置自动轮播" class="headerlink" title="3. 设置自动轮播"></a>3. 设置自动轮播</h2><p>通过计时器控件计时</p>
<p>1  先为控制器添加一个timer</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property (nonatomic, strong) NSTimer *timer;</div></pre></td></tr></table></figure>
<p>2 <code>viewDidLoad</code>中创建计时器控件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 创建计时器控件，设定每过两秒执行`scrollImage`方法</div><div class="line">self.timer = [NSTimer scheduledTimerWithTimeInterval:2.0 target:self selector:@selector(scrollImage) userInfo:nil repeats:YES];</div></pre></td></tr></table></figure>
<p>3 实现@selector指定的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (void) scrollImage &#123;</div><div class="line">    NSInteger page = self.scrollView.contentOffset.x / self.scrollView.frame.size.width;</div><div class="line">    // 判断是否在最后一页，如果是最后一页设置页码重新设置为第一页</div><div class="line">    if (page == 4) &#123;</div><div class="line">        page = 0;</div><div class="line">    &#125; else &#123;</div><div class="line">        page ++;</div><div class="line">    &#125;</div><div class="line">    CGFloat offsetX = page * self.scrollView.frame.size.width;</div><div class="line">    [self.scrollView setContentOffset:CGPointMake(offsetX, 0) animated:YES];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这时候就能看见图片2秒滚动一次了。</p>
<hr>
<h2 id="4-同类控件优先级问题"><a href="#4-同类控件优先级问题" class="headerlink" title="4. 同类控件优先级问题"></a>4. 同类控件优先级问题</h2><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>当界面中有两个scrollview（或其子类控件）时，在滚动其中一个scrollview时候，设置了计时器的scrollview会暂定自动滚动。<br>比如拽入一个textView:<br><a href="http://i1.tietuku.com/c2abd5a14b54c34c.jpg" title="点击显示原始图片" target="_blank" rel="external"><img src="http://i1.tietuku.com/c2abd5a14b54c34ct.jpg"></a><br>如果滚动下面的文字，上面的图片轮播不会继续自动滚动。</p>
<h3 id="问题原因"><a href="#问题原因" class="headerlink" title="问题原因"></a>问题原因</h3><p>问题的原因是因为计时器的优先级和view（各种控件）的优先级不同，所以会优先执行view的动作。</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>将计时器的优先级设置和view的优先级相同</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// 修改优先级</div><div class="line">// 获取当前的消息循环</div><div class="line">NSRunLoop *runLoop = [NSRunLoop currentRunLoop];</div><div class="line">[runLoop addTimer:self.timer forMode:NSRunLoopCommonModes];</div></pre></td></tr></table></figure>
<hr>
<h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><p>如果需要源代码，博主已经上传：<a href="http://download.csdn.net/detail/u010127917/9042503" target="_blank" rel="external">http://download.csdn.net/detail/u010127917/9042503</a></p>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#109;&#x61;&#x69;&#x6c;&#x74;&#111;&#58;&#99;&#111;&#x64;&#101;&#x72;&#x66;&#105;&#x73;&#x68;&#64;&#49;&#x36;&#x33;&#46;&#99;&#x6f;&#x6d;">&#99;&#111;&#x64;&#101;&#x72;&#x66;&#105;&#x73;&#x68;&#64;&#49;&#x36;&#x33;&#46;&#99;&#x6f;&#x6d;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/19/iOS学习——objective-c 加号减号，并非静态方法/" itemprop="url">
                  iOS学习——objective-c 加号减号，并非静态方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-19T16:38:00+08:00" content="2015-08-19">
              2015-08-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/08/19/iOS学习——objective-c 加号减号，并非静态方法/" class="leancloud_visitors" data-flag-title="iOS学习——objective-c 加号减号，并非静态方法">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Java程序员出身的博主，刚开始也傻傻的以为iOS中的方法前面+号代表静态方法。然而这是错误的！</p>
<p>在OC中，加号（+）的方法也叫做类方法，也直接用类名来调用的。<br>但是！它的用来创建一个实例。通常是用来创建实例的工厂方法。比如最常用的<strong><code>[NSArray array]</code></strong>，返回的是一个实例化好的数组对象。<br>所以它和静态不静态没关系。</p>
<p>如果写的demo，就会发现+号方法居然是可以访问非静态变量的，这充分的证明了+号方法不是静态方法。</p>
<p>写下这篇博客，希望和我一样被OC的特殊写法震撼到的程序员能后赶快发现。</p>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#109;&#97;&#105;&#108;&#116;&#x6f;&#58;&#x63;&#111;&#x64;&#x65;&#114;&#x66;&#105;&#x73;&#x68;&#x40;&#49;&#x36;&#x33;&#x2e;&#99;&#111;&#109;">&#x63;&#111;&#x64;&#x65;&#114;&#x66;&#105;&#x73;&#x68;&#x40;&#49;&#x36;&#x33;&#x2e;&#99;&#111;&#109;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/19/iOS学习——StatusBar状态栏的简单设置/" itemprop="url">
                  iOS学习——StatusBar状态栏的简单设置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-19T16:29:00+08:00" content="2015-08-19">
              2015-08-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/08/19/iOS学习——StatusBar状态栏的简单设置/" class="leancloud_visitors" data-flag-title="iOS学习——StatusBar状态栏的简单设置">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h2><p>默认情况下，状态栏的文字、图标颜色是黑色<br><img src="http://img.blog.csdn.net/20150819161929310" alt="这里写图片描述"><br>但有的时候，比如我们的应用程序背景是深色的，就会看不到状态栏，这时候，我们希望状态栏文字、图标变成白色。<br>或者，你干脆不让状态栏显示出来。</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>状态的样式，是交由当前的控制器（viewController、tableViewController等），所以更改状态栏样式需要在控制器的代码里设定。</p>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p><strong>改变状态栏的颜色</strong>：重写<code>- (UIStatusBarStyle)preferredStatusBarStyle</code>方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> *  改变状态栏的文字颜色</div><div class="line"> *</div><div class="line"> *  @return 状态栏风格</div><div class="line"> */</div><div class="line">- (UIStatusBarStyle)preferredStatusBarStyle &#123;</div><div class="line">    return UIStatusBarStyleLightContent;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>隐藏状态栏</strong>：重写- (BOOL)prefersStatusBarHidden方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> *  隐藏状态栏</div><div class="line"> *</div><div class="line"> *  @return</div><div class="line"> */</div><div class="line">- (BOOL)prefersStatusBarHidden &#123;</div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#x6d;&#x61;&#105;&#108;&#116;&#111;&#x3a;&#99;&#x6f;&#100;&#x65;&#x72;&#x66;&#x69;&#x73;&#x68;&#x40;&#x31;&#x36;&#51;&#x2e;&#x63;&#111;&#x6d;">&#99;&#x6f;&#100;&#x65;&#x72;&#x66;&#x69;&#x73;&#x68;&#x40;&#x31;&#x36;&#51;&#x2e;&#x63;&#111;&#x6d;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/17/iOS学习——Object-C模拟类变量/" itemprop="url">
                  iOS学习——Object-C模拟类变量
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-17T11:18:00+08:00" content="2015-08-17">
              2015-08-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/2015/08/17/iOS学习——Object-C模拟类变量/" class="leancloud_visitors" data-flag-title="iOS学习——Object-C模拟类变量">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Object-C中并没有JAVA中的类变量，博主在刚开始时，又是给@property加static修饰，又是给字段加static修饰，都会报错。查阅文档得到以下信息：</p>
<blockquote>
<ol>
<li>static关键字不能用于修饰成员变量</li>
<li>static关键字只能用于修饰<strong>局部变量</strong>、<strong>全局变量</strong>、<strong>函数</strong></li>
<li>static修饰局部变量，代表将该局部变量存放到静态存储区</li>
<li>static修饰全局变量，可以限制该全局变量只能被当前源文件访问</li>
<li>static修饰函数，可以限制该函数只能在当前源文件调用</li>
</ol>
</blockquote>
<p>那么现在可以明白OC中的static修饰符跟不少语言中的static不是一回事。</p>
<p>但事实上，类变量确实是面向对象中很有必要的。现在要用另一种方式模拟类变量。</p>
<p>解决方案是：<strong>建立static的全局变量，并在实现public的get、set方法，供外部调用</strong></p>
<p>下面给出代码示例，相信你能很快明白其用法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  Person.h</div><div class="line">//  test_command</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/8/11.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line"></div><div class="line">@interface Person : NSObject</div><div class="line"></div><div class="line">+(void) setPlanetName: (NSString *)planetName;</div><div class="line">+(NSString *) planetName;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  Person.m</div><div class="line">//  test_command</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/8/11.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &quot;Person.h&quot;</div><div class="line"></div><div class="line"></div><div class="line">static NSString *_planetName;</div><div class="line"></div><div class="line">@implementation Person</div><div class="line"></div><div class="line">+(void) setPlanetName: (NSString *)planetName &#123;</div><div class="line">    _planetName = planetName;</div><div class="line">&#125;</div><div class="line"></div><div class="line">+(NSString *) planetName &#123;</div><div class="line">    return _planetName;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">//  main.m</div><div class="line">//  test_command</div><div class="line">//</div><div class="line">//  Created by 周凌宇 on 15/8/11.</div><div class="line">//  Copyright (c) 2015年 周凌宇. All rights reserved.</div><div class="line">//</div><div class="line"></div><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line">#import &quot;Person.h&quot;</div><div class="line"></div><div class="line">int main(int argc, const char * argv[]) &#123;</div><div class="line">    @autoreleasepool &#123;</div><div class="line">        [Person setPlanetName:@&quot;地球&quot;];</div><div class="line">        NSLog(@&quot;%@&quot;,[Person planetName]);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p>有什么问题都可以在博文后面留言，或者微博上私信我，或者邮件我<a href="&#x6d;&#x61;&#105;&#108;&#x74;&#x6f;&#x3a;&#x63;&#x6f;&#x64;&#x65;&#114;&#x66;&#x69;&#x73;&#x68;&#64;&#49;&#x36;&#x33;&#x2e;&#99;&#x6f;&#109;">&#x63;&#x6f;&#x64;&#x65;&#114;&#x66;&#x69;&#x73;&#x68;&#64;&#49;&#x36;&#x33;&#x2e;&#99;&#x6f;&#109;</a>。</p>
<p>博主主要写javaEE和iOS的。</p>
<p>希望大家一起进步。</p>
<p>CSDN： <a href="http://blog.csdn.net/u010127917" target="_blank" rel="external">CSDN博客地址</a></p>
<p>我的微博：<a href="http://weibo.com/coderfish/" target="_blank" rel="external">小鱼</a></p>
<p><img src="http://img.blog.csdn.net/20151013163134872" alt="小鱼的微博"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="小鱼" />
          <p class="site-author-name" itemprop="name">小鱼</p>
          <p class="site-description motion-element" itemprop="description">技术宅 iOS开发 JAVA开发 萌妹子</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">42</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小鱼</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次 统计起始日期：2016年8月4日
</span>
        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("PI8DkEcwwAeUsSvTJirjB4NY-gzGzoHsz", "F82ePXFzAey9dKSBAFdoB6ka");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
